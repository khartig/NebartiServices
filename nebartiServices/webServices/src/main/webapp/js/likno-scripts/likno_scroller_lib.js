// Likno Web Scroller Builder Libraries 1.0.1
// Copyright (c) Likno Software 2008-2012

// This code is property of Likno Software. It must be produced by a licensed Likno Web Scroller Builder and used on *web servers* only (Internet/Intranet websites).
// It *cannot* be used for distributable implementations (demos, applications or CD-based webs), unless a *Distributed Application" license is purchased.
// Any unauthorized use, reverse-engineering, alteration or copying of any means (electronic or not) is strictly prohibited.
// ***Removal of the present copyright notice and license terms is strictly prohibited***
;(function($){$.liknoScroller=function(data,options){return new LiknoScroller(data,options)};$.fn.liknoScroller=function(options){return new LiknoScroller(this,options)};var stdCss={"box-sizing":"content-box","-moz-box-sizing":"content-box","-webkit-box-sizing":"content-box","-ms-box-sizing":"content-box"};$.liknoScroller.defaults={spacerCss:$.extend({},stdCss,{"line-height":"0px","font-size":"0px","padding":"0px","background":"transparent","border":"none"}),navigationArrows:{show:false,trigger:0,isFloating:false,width:0,height:0,previousHTML:"<img class='previous_arrow' style='width: 35px; height: 35px;'/>",nextHTML:"<img class='next_arrow' style='width: 35px; height: 35px;'/>",opacity:"90%",opacityOver:"100%",containerCssClasses:{},autoHide:false,showContainer:false,arrowMargin:0,imageLeftNormal:'',imageLeftOver:'',imageLeftClick:'',imageLeftDisabled:'',imageRightNormal:'',imageRightOver:'',imageRightClick:'',imageRightDisabled:'',imageTopNormal:'',imageTopOver:'',imageTopClick:'',imageTopDisabled:'',imageBottomNormal:'',imageBottomOver:'',imageBottomClick:'',imageBottomDisabled:''},keyboardNavigation:false,loadingImages:false,zIndex:1,positioning:{type:0,selector:"",drifty:false,elementCorner:0,scrollerCorner:0,posX:0,posY:0},classes:{scrollerClass:'liknoscroller',containerClass:'liknoscroller_container',itemsContainerClass:'liknoscroller_items_container',contentClass:'liknoscroller',navigationClass:'liknoscroller_navButton'},buttonsCss:stdCss,buttonsOverCss:stdCss,leftAreaCss:stdCss,rightAreaCss:stdCss,topAreaCss:stdCss,bottomAreaCss:stdCss,items:{minWidth:0,maxWidth:10000,autoWidth:true,minHeight:0,maxHeight:10000,autoHeight:true,commonCss:stdCss,normalCss:stdCss,normalOverCss:stdCss,selectedCss:stdCss,selectedOverCss:stdCss,separatorCss:stdCss},container:{isVertical:false,textCss:$.extend({},stdCss,{}),minWidth:0,maxWidth:10000,autoWidth:true,minHeight:0,maxHeight:10000,autoHeight:true,itemsPerPage:100,distanceBetweenItems:10,wholeItemsOnly:false,spreadItems:false,borderImage:{show:false,ignoreCssBorder:false,borderImageSetName:'',borderImageSetExtension:"png",topWidth:0,rightWidth:0,bottomWidth:0,leftWidth:0}},paneCss:$.extend({},stdCss,{"overflow":"hidden"}),play:{autoPlayByMouse:0,step:0,stepSpeed:10,loop:false,duration:500,stepType:0,allEffects:["linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeOutElastic","easeOutBack","easeInBounce","easeOutBounce","easeInOutBounce"],effect:0,autoStart:false,pauseByMouse:true,playByMouseSpeedStep:0,playByMouseSpeedTimer:null,direction:0,delay:1000,timer:null,isPaused:false,isRunning:false},currentPage:-1,currentItem:0,navigationBar:{showWhere:0,maxPages:9,show:false,showFirst:true,showPrev:true,showPlayPause:false,showLabel:true,showPages:true,showNext:true,showLast:true,isFloating:false,fullSize:false,playerCss:{},labelHTML:'Pages: ',showPageType:0,showBulletsOnly:false,opacity:1,opacityOver:1,offset:[0,0],images:{butFirst:'',butFirstOver:'',butPrev:'',butPrevOver:'',butPlay:'',butPlayOver:'',butPause:'',butPauseOver:'',butNext:'',butNextOver:'',butLast:'',butLastOver:'',bulletNormal:'',bulletOver:'',bulletSelected:''}},tooltips:{isExternalTooltip:false,externalTooltipName:"",trigger:"mouseover",tooltipCss:{"padding":10,"background":"#982374","border":"#821423 solid 5px","border-radius":10},borderImage:{show:false,ignoreCssBorder:false,borderImageSetName:"",borderImageSetExtension:"png",topWidth:0,leftWidth:0,rightWidth:0,bottomWidth:0},minWidth:0,maxWidth:10000,autoWidth:true,minHeight:0,maxHeight:10000,autoHeight:true,distance:0,offset:0,effectStyle:0,effectDelay:0,effectDuration:100},ajaxLoadDiv:'loading...',ajaxLoadImage:'',transition:{transWhat:{},transHow:"linear",transDuration:0},scrollDefined:false};function LiknoScroller(data,options){var self=this,opts=null,ieQuirks=!$.support.boxModel,ie=$.browser.msie,ie6=$.browser.msie&&($.browser.version=="6.0"),ie7=$.browser.msie&&($.browser.version=="7.0"),ie8=$.browser.msie&&($.browser.version=="8.0"),ie9=$.browser.msie&&($.browser.version=="9.0"),ieCM=$.browser.msie&&((document.documentMode?document.documentMode:(document.compatMode&&document.compatMode=="CSS1Compat")?7:5)<8),dialog={},isTouch=((navigator.userAgent.match(/iPhone/i))||(navigator.userAgent.match(/iPod/i))||(navigator.userAgent.match(/iPad/i))),oldIE=ie6||ie7||ieQuirks||ieCM;if(typeof(options)=="undefined")options={};$.extend(self,{autoPlayStart:function(isAuto){if(typeof(isAuto)=="undefined")isAuto=true;if(dialog.scrollerItems.length>1&&!opts.play.timer){opts.play.isRunning=true;if(!isAuto)self.autoPlayDoPlay();if(opts.play.step>0){var intrvl=self.getDelay(opts.play.duration)+opts.play.delay;opts.play.timer=setInterval(function(){self.autoPlayDoPlay()},intrvl)}else if(opts.play.step==0){opts.play.realStepMove=(opts.play.stepSpeed+10)/10;opts.play.mouseSpeedUp=false;opts.play.autoMoveDirection=(opts.play.direction==0)?self.goForward:(opts.play.direction==1)?self.goBack:(Math.random()>0.5)?self.goForward:self.goBack;opts.play.timer=setInterval(function(){if(!opts.play.isPaused)opts.play.autoMoveDirection()},50)}if(opts.bindNavigationImages&&typeof(dialog.externalNavigationBar.play.showNormal)=="function"){dialog.externalNavigationBar.play.showNormal()}if(opts.navigationBar.show&&opts.navigationBar.showPlayPause){dialog.navigationBar.play.showNormal()}}},autoPlayStop:function(){opts.play.isRunning=false;if(opts.play.timer){clearInterval(opts.play.timer);opts.play.timer=null;if(opts.bindNavigationImages&&typeof(dialog.externalNavigationBar.play.showNormal)=="function"){dialog.externalNavigationBar.play.showNormal()}if(opts.navigationBar.show&&opts.navigationBar.showPlayPause){dialog.navigationBar.play.showNormal()}}},autoPlayToggle:function(){if(opts.play.isRunning)self.autoPlayStop();else self.autoPlayStart(false)},autoPlayDoPlay:function(){if(!opts.play.isPaused){if(opts.play.direction==0)self.goForward();else if(opts.play.direction==1)self.goBack(true);else if(opts.play.direction==2){if(dialog.scrollerItems.length>1){var tmp=dialog.currentItem;while(tmp==dialog.currentItem)tmp=Math.ceil(dialog.scrollerItems.length*Math.random()-1);self.gotoPage(tmp,true)}}}},gotoFirst:function(){if(opts.container.isVertical)dialog.items_area.scrollTop(dialog.pages[0]);else dialog.items_area.scrollLeft(dialog.pages[0]);if(opts.navigationBar.show&&opts.navigationBar.showPages)self.setNavigationBarPage(0);self.setNavigationArrowStyle(dialog.backButton);self.setNavigationArrowStyle(dialog.forwardButton)},gotoLast:function(){if(opts.container.isVertical)dialog.items_area.scrollTop(dialog.pages[dialog.pages.length-1]);else dialog.items_area.scrollLeft(dialog.pages[dialog.pages.length-1]);if(opts.navigationBar.show&&opts.navigationBar.showPages)self.setNavigationBarPage(dialog.pages.length-1);self.setNavigationArrowStyle(dialog.backButton);self.setNavigationArrowStyle(dialog.forwardButton)},gotoPage:function(p,isAuto,allowTransition){if(dialog.working)return;dialog.working=true;if(typeof isAuto=="undefined")isAuto=false;if(typeof allowTransition=="undefined")allowTransition=true;if(p!=dialog.currentItem){if(p<0)p=0;if(p>=dialog.scrollerItems.length)p=dialog.scrollerItems.length-1;dialog.currentItem=p;self.setData(allowTransition,isAuto)}else if(!opts.dependentPanes||opts.allowAllClosed){if(p<0)p=0;if(p>=dialog.scrollerItems.length)p=dialog.scrollerItems.length-1;dialog.currentItem=p;self.setData(allowTransition,isAuto)}else{dialog.working=false}self.setNavigationArrowStyle(dialog.backButton);self.setNavigationArrowStyle(dialog.forwardButton)},setNavigationBarPage:function(page){if(page==opts.currentPage)return;else opts.currentPage=page;if(!opts.navigationBar.show)return;if(!opts.navigationBar.showPages)return;if(!dialog.pages)return;page=parseInt(page);if(isNaN(page))page=0;var start=0,end=dialog.pages.length-1;dialog.navigationBar_Pages.empty();var page_links="";if(opts.navigationBar.showPageType==0){if((opts.navigationBar.showPageFormatCustom.indexOf("%page_links%")>-1)||(opts.navigationBar.showPageFormat==0)){var pages=end,startStr=null,midStr=null,endStr=null;if(pages>(opts.navigationBar.maxPages-1)){if(page>((opts.navigationBar.maxPages-1)/2)){startStr=$("<span/>");$("<span class='"+opts.classes.scrollerClass+" navigationBarPageLink' href='javascript:void(0)'>1</span>").data("no",0).appendTo(startStr);startStr.append("<span class='"+opts.classes.scrollerClass+" navigationBarPageSpacer'>&nbsp;</span><span class='"+opts.classes.scrollerClass+" navigationBarPageDots'>...</span><span class='"+opts.classes.scrollerClass+" navigationBarPageSpacer'>&nbsp;</span>");start=page-(((opts.navigationBar.maxPages-1)/2)-1);if(start>pages-(opts.navigationBar.maxPages-2))start=pages-(opts.navigationBar.maxPages-2)}if(page<end-((opts.navigationBar.maxPages-1)/2)){endStr=$("<span/>");endStr.append("<span class='"+opts.classes.scrollerClass+" navigationBarPageDots'>...</span><span class='"+opts.classes.scrollerClass+" navigationBarPageSpacer'>&nbsp;</span>");$("<span class='"+opts.classes.scrollerClass+" navigationBarPageLink' href='javascript:void(0)'>"+(pages+1)+"</span>").data("no",pages).appendTo(endStr);end=page+(((opts.navigationBar.maxPages-1)/2)-1);if(end<(opts.navigationBar.maxPages-2))end=(opts.navigationBar.maxPages-2)}}midStr=$("<span/>");for(i=start;i<=end;i++){if(i==page){$("<span class='"+opts.classes.scrollerClass+" navigationBarPageSelected'>"+(i+1)+"</span>").data("no",i).appendTo(midStr)}else{$("<span class='"+opts.classes.scrollerClass+" navigationBarPageLink'>"+(i+1)+"</span>").data("no",i).appendTo(midStr)}$("<span class='"+opts.classes.scrollerClass+" navigationBarPageSpacer'>&nbsp;</span>").appendTo(midStr)}page_links=$("<span/>").append(startStr).append(midStr).append(endStr)}if(opts.navigationBar.showPageFormat==0){dialog.navigationBar_Pages.append(page_links)}else if(opts.navigationBar.showPageFormat==1){dialog.navigationBar_Pages.append("<span>"+(page+1)+" / "+(end+1)+"</span>")}else if(opts.navigationBar.showPageFormat==2){var tmp=opts.navigationBar.showPageFormatCustom;tmp=tmp.replace("%current_page%",page+1);tmp=tmp.replace("%total_pages%",dialog.pages.length);if(tmp.indexOf("%page_links%")>-1){var t=tmp.indexOf("%page_links%");tmp=tmp.replace("%page_links%","");tmp=$("<span>").append($("<span>").append(tmp.substr(0,t))).append(page_links).append($("<span>").append(tmp.substr(t)))}dialog.navigationBar_Pages.append(tmp)}}else if(opts.navigationBar.showPageType==1){dialog.navigationBar_Pages.css({"font-size":"1px","line-height":"1px","vertical-align":"middle"});for(i=start;i<=end;i++){$("<div style='display: inline-block; vertical-align: middle;' class='"+opts.classes.scrollerClass+" "+((i==page)?"navigationBarBulletsSelected":"navigationBarBulletsNormal")+"'><img style='display: block;' src='"+((i==page)?opts.navigationBar.images.bulletSelected:opts.navigationBar.images.bulletNormal)+"'/></div>").data("no",i).appendTo(dialog.navigationBar_Pages);$("<div style='display: inline-block; vertical-align: middle;' class='"+opts.classes.scrollerClass+" navigationBarPageSpacer'>&nbsp</div>").appendTo(dialog.navigationBar_Pages)}}self.positionNavigationBar()},getPageFromItem:function(item){return self.getPageFromPosition(dialog.scrollerItems[item].data("item_pos"))},getPageFromPosition:function(pos){if(!dialog.pages)return 0;var p=0,d=10000;for(var i=0;i<dialog.pages.length;i++){if(d>Math.abs(pos-dialog.pages[i])){d=Math.abs(pos-dialog.pages[i]);p=i}}return p},createNavigationBar:function(){$("head").append("<style>"+opts.navigationBar.cssClasses+" .navigationBarPageSpacer { font-size: 0px; line-height: 0px; display: inline-block; }</style>");var theNavigationBar=$("<tr/>");if(opts.navigationBar.showFirst){var button_first=$("<td class='"+opts.classes.scrollerClass+" navigationBarFirst' width='10' valign='middle'/>").append($("<img style='display: block;' src='"+opts.navigationBar.images.butFirst+"'>").mouseover(function(){$(this).attr("src",opts.navigationBar.images.butFirstOver)}).mouseout(function(){$(this).attr("src",opts.navigationBar.images.butFirst)}).click(function(e){self.gotoFirst()}))}if(opts.navigationBar.showPrev){var button_prev=$("<td class='"+opts.classes.scrollerClass+" navigationBarPrev' width='10' valign='middle'/>").append($("<img style='display: block;' src='"+opts.navigationBar.images.butPrev+"'>").mouseover(function(){$(this).attr("src",opts.navigationBar.images.butPrevOver)}).mouseout(function(){$(this).attr("src",opts.navigationBar.images.butPrev)}).mousedown(function(){self.startBack()}).mouseup(function(){self.stopBack()}).mouseout(function(){self.stopBack()}))}if(opts.navigationBar.showNext){var button_next=$("<td class='"+opts.classes.scrollerClass+" navigationBarNext' width='10' valign='middle'/>").append($("<img style='display: block;' src='"+opts.navigationBar.images.butNext+"'>").mouseover(function(){$(this).attr("src",opts.navigationBar.images.butNextOver)}).mouseout(function(){$(this).attr("src",opts.navigationBar.images.butNext)}).mousedown(function(){self.startForward()}).mouseup(function(){self.stopForward()}).mouseout(function(){self.stopForward()}))}if(opts.navigationBar.showLast){var button_last=$("<td class='"+opts.classes.scrollerClass+" navigationBarLast' width='10' valign='middle'/>").append($("<img style='display: block;' src='"+opts.navigationBar.images.butLast+"'>").mouseover(function(){$(this).attr("src",opts.navigationBar.images.butLastOver)}).mouseout(function(){$(this).attr("src",opts.navigationBar.images.butLast)}).click(function(e){self.gotoLast()}))}if(opts.navigationBar.showPages){dialog.navigationBar_Pages=$("<span style='display: inline-block;' class='"+opts.classes.scrollerClass+" navigationBarPageSection'/>")}if(opts.navigationBar.showPlayPause){dialog.navigationBar.play=$("<img align='absmiddle' src='"+opts.navigationBar.images.butPause+"'>");dialog.navigationBar.play.showOver=function(){if(opts.play.isRunning)$(this).attr("src",opts.navigationBar.images.butPlayOver);else $(this).attr("src",opts.navigationBar.images.butPauseOver)};dialog.navigationBar.play.showNormal=function(){if(opts.play.isRunning)$(this).attr("src",opts.navigationBar.images.butPlay);else $(this).attr("src",opts.navigationBar.images.butPause)};dialog.navigationBar.play.mouseover(function(){dialog.navigationBar.play.showOver()}).mouseout(function(){dialog.navigationBar.play.showNormal()}).click(function(e){self.autoPlayToggle()});dialog.navigationBar_playPauseBut=$("<span class='"+opts.classes.scrollerClass+" navigationBarPlayPause'/>");dialog.navigationBar_playPauseBut.css(opts.navigationBar.playerCss);dialog.navigationBar_playPauseBut.append(dialog.navigationBar.play)}if(opts.navigationBar.showFirst)theNavigationBar.append(button_first);if(opts.navigationBar.showPrev)theNavigationBar.append(button_prev);if(opts.navigationBar.fullSize||opts.navigationBar.showPlayPause||opts.navigationBar.showLabel||opts.navigationBar.showPages){var goto_middle=$("<td class='"+opts.classes.scrollerClass+" navigationBarCenterSection' valign='middle' style='white-space: nowrap;'/>");if(opts.navigationBar.showPlayPause)goto_middle.append(dialog.navigationBar_playPauseBut);if(opts.navigationBar.showLabel)goto_middle.append($("<span class='"+opts.classes.scrollerClass+" navigationBarText'>"+opts.navigationBar.labelHTML+"</span>"));if(opts.navigationBar.showLabel&&opts.navigationBar.showPages)goto_middle.append($("<span class='"+opts.classes.scrollerClass+" navigationBarPageSpacer'>&nbsp;</span>"));if(opts.navigationBar.showPages)goto_middle.append(dialog.navigationBar_Pages);if(!(opts.navigationBar.showPlayPause||opts.navigationBar.showLabel||opts.navigationBar.showPages))goto_middle.append("&nbsp;");theNavigationBar.append(goto_middle)}if(opts.navigationBar.showNext)theNavigationBar.append(button_next);if(opts.navigationBar.showLast)theNavigationBar.append(button_last);theNavigationBar=$("<table "+(opts.navigationBar.fullSize?"width='100%' ":"")+"cellspacing='0' cellpadding='0'/>").append(theNavigationBar);var tmp=$("<div class='"+opts.classes.scrollerClass+" navigationBarArea'>&nbsp;</div>").appendTo($("body"));theNavigationBar.css('height',tmp.height()).mouseout(function(){self.stopBack();self.stopForward()});tmp.remove();if(dialog.navigationBar)dialog.navigationBar.empty();theNavigationBar.appendTo(dialog.navigationBar);theNavigationBar=null;if(opts.navigationBar.showPages){$("."+opts.classes.scrollerClass+".navigationBarPageLink").die("click");$("."+opts.classes.scrollerClass+".navigationBarBulletsNormal").die("click");$("."+opts.classes.scrollerClass+".navigationBarPageLink").live("mouseover",function(){$(this).addClass("navigationBarPageLinkHover")});$("."+opts.classes.scrollerClass+".navigationBarPageLink").live("mouseout",function(){$(this).removeClass("navigationBarPageLinkHover")});$("."+opts.classes.scrollerClass+".navigationBarPageLink").live("click",function(){if(opts.container.isVertical)dialog.items_area.scrollTop(dialog.pages[$(this).data("no")]);else dialog.items_area.scrollLeft(dialog.pages[$(this).data("no")]);self.setNavigationBarPage($(this).data("no"));self.setNavigationArrowStyle(dialog.backButton);self.setNavigationArrowStyle(dialog.forwardButton)});$("."+opts.classes.scrollerClass+".navigationBarBulletsNormal").live("mouseover",function(){$(this).addClass("navigationBarBulletsOver").find("img").attr("src",opts.navigationBar.images.bulletOver)});$("."+opts.classes.scrollerClass+".navigationBarBulletsNormal").live("mouseout",function(){$(this).removeClass("navigationBarBulletsOver").find("img").attr("src",opts.navigationBar.images.bulletNormal)});$("."+opts.classes.scrollerClass+".navigationBarBulletsNormal").live("click",function(){if(opts.container.isVertical)dialog.items_area.scrollTop(dialog.pages[$(this).data("no")]);else dialog.items_area.scrollLeft(dialog.pages[$(this).data("no")]);self.setNavigationBarPage($(this).data("no"));self.setNavigationArrowStyle(dialog.backButton);self.setNavigationArrowStyle(dialog.forwardButton)})}},positionNavigationBar:function(){if(!opts.navigationBar.show)return;var nav=dialog.navigationBar;nav.css({position:"absolute",left:-20000,top:-20000}).appendTo("body");nav.width('');nav.width(nav.width());nav.css({position:""});if($("#navbarpos").length>0)$("#navbarpos").append(nav);else{switch(opts.navigationBar.showWhere){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:var x=0,y=0,dad=dialog.items_area.parent();nav.css({position:"absolute"});var dw=dad.outerWidth()-(self.getVal(dad.css("border-left-width"))+self.getVal(dad.css("border-right-width")));var dh=dad.outerHeight()-(self.getVal(dad.css("border-top-width"))+self.getVal(dad.css("border-bottom-width")));var w=nav.outerWidth()>dw?dw:nav.outerWidth();if(nav.outerWidth()>dw){nav.css({width:w}).find(".navigationBarPageSection").css({"white-space":"normal"})}switch(opts.navigationBar.showWhere){case 0:break;case 1:x=(dw-nav.outerWidth())/2;break;case 2:x=dw-nav.outerWidth();break;case 3:x=dw-nav.outerWidth();y=(dh-nav.outerHeight())/2;break;case 4:x=dw-nav.outerWidth();y=dh-nav.outerHeight();break;case 5:x=(dw-nav.outerWidth())/2;y=dh-nav.outerHeight();break;case 6:y=dh-nav.outerHeight();break;case 7:y=(dh-nav.outerHeight())/2;break;case 8:x=(dw-nav.outerWidth())/2;y=(dh-nav.outerHeight())/2;break}nav.appendTo(dialog.items_area.parent());x+=opts.navigationBar.offset[0];y+=opts.navigationBar.offset[1];nav.css({left:x,top:y});break;case 10:if(opts.showTopArea)$("<td id='navbarpos' style='vertical-align: bottom;'></td>").append(nav).prependTo(dialog.top_area.find("tr"));break;case 11:if(opts.showTopArea)$("<td id='navbarpos' style='vertical-align: bottom;'></td>").append(nav).appendTo(dialog.top_area.find("tr"));break;case 12:if(opts.showTopArea){dialog.top_area.find("td").attr('id','navbarpos').append(nav.css("display","inline-block"))}break;case 14:if(opts.showBottomArea)$("<td id='navbarpos' style='vertical-align: bottom;'></td>").append(nav).prependTo(dialog.bottom_area.find("tr"));break;case 15:if(opts.showBottomArea)$("<td id='navbarpos' style='vertical-align: bottom;'></td>").append(nav).appendTo(dialog.bottom_area.find("tr"));break;case 16:if(opts.showBottomArea){dialog.bottom_area.find("td").attr('id','navbarpos').append(nav.css("display","inline-block"))}break;case 18:if(opts.showLeftArea){var t=$("<td id='navbarpos' style='vertical-align: top;'></td>").append(nav);t=$("<tr></tr>").append(t);t.prependTo(dialog.left_area.find("table"))}break;case 19:if(opts.showLeftArea)$("<tr></tr>").append($("<td id='navbarpos' style='vertical-align: bottom;'></td>").append(nav)).appendTo(dialog.left_area.find("table"));break;case 20:if(opts.showLeftArea){dialog.left_area.find("td").attr('id','navbarpos').append(nav.css("display","inline-block"))}break;case 22:if(opts.showRightArea)$("<tr></tr>").append($("<td id='navbarpos' style='vertical-align: top;'></td>").append(nav)).prependTo(dialog.right_area.find("table"));break;case 23:if(opts.showRightArea)$("<tr></tr>").append($("<td id='navbarpos' style='vertical-align: bottom;'></td>").append(nav)).appendTo(dialog.right_area.find("table"));break;case 24:if(opts.showRightArea){dialog.right_area.find("td").attr('id','navbarpos').append(nav.css("display","inline-block"))}break}}},setSelectedItem:function(item,ov){dialog.currentItem=item;for(var i=0;i<dialog.wrap.length;i++){if(i==item||(opts.play.loop&&(i==item+dialog.scrollerItems.length||i==item-dialog.scrollerItems.length))){dialog.wrap[i].data("state","selected"+(ov?"Over":""))}else{dialog.wrap[i].data("state","normal")}self.setItemStyle(dialog.wrap[i])}},setData:function(allowTransition,isAuto,doSel){if(typeof(doSel)=="undefined")doSel=false;if(dialog.currentItem==-1)return;var p=dialog.scrollerItems[dialog.currentItem].data('item_pos');if(doSel)self.setSelectedItem(dialog.currentItem,false);var d=dialog.items_area;if(opts.play.stepType==0||!allowTransition){if(opts.container.isVertical)d.scrollTop(p);else d.scrollLeft(p)}else if(opts.play.stepType==1){if(opts.container.isVertical){d.animate({scrollTop:p},opts.play.duration,function(){self.setNavigationBarPage(self.getPageFromPosition(opts.container.isVertical?d.scrollTop():d.scrollLeft()))})}else{d.animate({scrollLeft:p},opts.play.duration,function(){self.setNavigationBarPage(self.getPageFromPosition(opts.container.isVertical?d.scrollTop():d.scrollLeft()))})}}dialog.working=false;self.setNavigationArrowStyle(dialog.backButton);self.setNavigationArrowStyle(dialog.forwardButton);self.setNavigationBarPage(self.getPageFromPosition(opts.container.isVertical?d.scrollTop():d.scrollLeft()))},preloadScrollerImages:function(){dialog.preloadedimages=new Array();var tmp_img=new Array();opts.loadingImages=true;opts.loadingImagesToDo=0;opts.loadingImagesHaveDone=0;if(opts.navigationArrows.show){if(opts.navigationArrows.previousHTML.indexOf("%ARROW_SET_IMAGE%")>=0){opts.loadingImagesToDo++;tmp_img[opts.loadingImagesToDo]=$("<img />");tmp_img[opts.loadingImagesToDo].load(function(){opts.loadingImagesHaveDone++;if(opts.loadingImagesToDo==opts.loadingImagesHaveDone)opts.loadingImages=false});tmp_img[opts.loadingImagesToDo].attr('src',opts.container.isVertical?opts.navigationArrows.imageTopNormal:opts.navigationArrows.imageLeftNormal);opts.loadingImagesToDo++;opts.loadingImages=true;tmp_img[opts.loadingImagesToDo]=$("<img />");tmp_img[opts.loadingImagesToDo].load(function(){opts.loadingImagesHaveDone++;if(opts.loadingImagesToDo==opts.loadingImagesHaveDone)opts.loadingImages=false});tmp_img[opts.loadingImagesToDo].attr('src',opts.container.isVertical?opts.navigationArrows.imageTopDisabled:opts.navigationArrows.imageLeftDisabled)}if(opts.navigationArrows.nextHTML.indexOf("%ARROW_SET_IMAGE%")>=0){opts.loadingImagesToDo++;tmp_img[opts.loadingImagesToDo]=$("<img />");tmp_img[opts.loadingImagesToDo].load(function(){opts.loadingImagesHaveDone++;if(opts.loadingImagesToDo==opts.loadingImagesHaveDone)opts.loadingImages=false});tmp_img[opts.loadingImagesToDo].attr('src',opts.container.isVertical?opts.navigationArrows.imageBottomNormal:opts.navigationArrows.imageRightNormal);opts.loadingImagesToDo++;opts.loadingImages=true;tmp_img[opts.loadingImagesToDo]=$("<img />");tmp_img[opts.loadingImagesToDo].load(function(){opts.loadingImagesHaveDone++;if(opts.loadingImagesToDo==opts.loadingImagesHaveDone)opts.loadingImages=false});tmp_img[opts.loadingImagesToDo].attr('src',opts.container.isVertical?opts.navigationArrows.imageBottomDisabled:opts.navigationArrows.imageRightDisabled)}}if(opts.navigationBar.show){if(!opts.navigationBar.showPages||opts.navigationBar.showPageType==0||!opts.navigationBar.showBulletsOnly){$.each([['butFirst','showFirst'],['butPrev','showPrev'],['butPlay','showPlayPause'],['butPause','showPlayPause'],['butNext','showNext'],['butLast','showLast']],function(i,el){eval("if (opts.navigationBar.images."+el[0]+" != '' && opts.navigationBar."+el[1]+") self.preloadImage(opts.navigationBar.images."+el[0]+");")})}if(opts.navigationBar.showPages&&opts.navigationBar.showPageType==1){$.each(['bulletNormal','bulletSelected'],function(i,el){eval("if (opts.navigationBar.images."+el+" != '') self.preloadImage(opts.navigationBar.images."+el+");")})}}if(opts.loadingImagesToDo==opts.loadingImagesHaveDone)opts.loadingImages=false},preloadSecondaryImages:function(){var dp=dialog.preloadedimages;var on=opts.navigationBar;if(on.show){if(!on.showPages||on.showPageType==0||!on.showBulletsOnly){$.each([['butFirstOver','showFirst'],['butPrevOver','showPrev'],['butPlayOver','showPlayPause'],['butPauseOver','showPlayPause'],['butNextOver','showNext'],['butLastOver','showLast']],function(i,el){eval("if (on.images."+el[0]+" != '' && on."+el[1]+") { dp[dp.length] = $(\"<img />\"); dp[dp.length-1].attr('src',on.images."+el[0]+");}")})}}if(on.showPages&&on.showPageType==1){if(on.images.bulletOver!='')dp[dp.length]=$("<img src='"+on.images.bulletOver+"'/>")}if(opts.navigationArrows.show){if(opts.navigationArrows.previousHTML.indexOf("%ARROW_SET_IMAGE%")>=0){dp[dp.length]=$("<img />").attr("src",opts.container.isVertical?opts.navigationArrows.imageTopOver:opts.navigationArrows.imageLeftOver);dp[dp.length]=$("<img />").attr("src",opts.container.isVertical?opts.navigationArrows.imageTopClick:opts.navigationArrows.imageLeftClick)}if(opts.navigationArrows.nextHTML.indexOf("%ARROW_SET_IMAGE%")>=0){dp[dp.length]=$("<img />").attr("src",opts.container.isVertical?opts.navigationArrows.imageBottomOver:opts.navigationArrows.imageRightOver);dp[dp.length]=$("<img />").attr("src",opts.container.isVertical?opts.navigationArrows.imageBottomClick:opts.navigationArrows.imageRightClick)}}},preloadImage:function(img){opts.loadingImagesToDo++;opts.loadingImages=true;var t=dialog.preloadedimages.length;dialog.preloadedimages[t]=$("<img />");dialog.preloadedimages[t].load(function(){opts.loadingImagesHaveDone++;if(opts.loadingImagesToDo==opts.loadingImagesHaveDone)opts.loadingImages=false});dialog.preloadedimages[t].attr('src',img)},createAndStart:function(){if(opts.loadingImages&&!$.browser.msie&&document.location.protocol!="file"){setTimeout(self.createAndStart,50)}else{self.create();data=null;self.dialog=dialog}},buildItemsContainer:function(){var itemsContainer=$("<table cellspacing='0' cellpadding='0' height='100%'></table>").addClass(opts.classes.itemsContainerClass).css({position:"relative"});if(oldIE)itemsContainer.css({position:""});if(!opts.container.isVertical)itemsContainer.append("<tr></tr>");dialog.wrap=new Array();for(var i=0;i<dialog.scrollerItems.length;i++){if(dialog.scrollerItems[i].hasClass("separator")){dialog.wrap[i]=dialog.scrollerItems[i].clone().removeClass("separator").addClass(opts.classes.separatorClass).css(opts.items.separatorCss)}else{dialog.wrap[i]=dialog.scrollerItems[i].clone();dialog.wrap[i].addClass(opts.classes.itemClass).css(opts.items.normalCss).mouseover(function(){$(this).data("state",($(this).data("state").indexOf("selected")>-1)?"selectedOver":"normalOver");self.setItemStyle($(this))}).mouseout(function(){$(this).data("state",($(this).data("state").indexOf("selected")>-1)?"selected":"normal");self.setItemStyle($(this))}).click(function(){self.setSelectedItem($(this).data("no"),true)})}if(opts.container.isVertical)itemsContainer.append($("<tr></tr>").append($("<td class='lwsc_item' style='vertical-align: middle; text-align: center;'></td>").append(dialog.wrap[i]))).append($("<tr></tr>").append($("<td class='lwsc_spacer'>&nbsp;</td>").css(opts.spacerCss)));else itemsContainer.find("tr").first().append($("<td class='lwsc_item' style='vertical-align: middle; text-align: center;'></td>").append(dialog.wrap[i])).append($("<td class='lwsc_spacer'>&nbsp;</td>").css(opts.spacerCss))}if(opts.play.loop){var ti=dialog.wrap.length;for(var i=0;i<ti;i++){if(dialog.scrollerItems[i].hasClass("separator")){dialog.wrap[ti+i]=dialog.scrollerItems[i].clone().removeClass("separator").addClass(opts.classes.separatorClass).css(opts.items.separatorCss)}else{dialog.wrap[ti+i]=dialog.scrollerItems[i].clone();dialog.wrap[ti+i].addClass(opts.classes.itemClass).css(opts.items.normalCss).mouseover(function(){$(this).data("state",($(this).data("state").indexOf("selected")>-1)?"selectedOver":"normalOver");self.setItemStyle($(this))}).mouseout(function(){$(this).data("state",($(this).data("state").indexOf("selected")>-1)?"selected":"normal");self.setItemStyle($(this))}).click(function(){self.setSelectedItem($(this).data("no"),true)})}if(opts.container.isVertical)itemsContainer.append($("<tr></tr>").append($("<td class='lwsc_item' style='vertical-align: middle; text-align: center;'></td>").append(dialog.wrap[ti+i]))).append($("<tr></tr>").append($("<td class='lwsc_spacer'>&nbsp;</td>").css(opts.spacerCss)));else itemsContainer.find("tr").first().append($("<td class='lwsc_item' style='vertical-align: middle; text-align: center;'></td>").append(dialog.wrap[ti+i])).append($("<td class='lwsc_spacer'>&nbsp;</td>").css(opts.spacerCss))}}for(var i=0;i<dialog.wrap.length;i++){dialog.wrap[i].css("display","block").data("no",i<dialog.scrollerItems.length?i:i-dialog.scrollerItems.length);if(opts.tooltips.trigger=="click")dialog.wrap[i].click(function(){self.showTooltip($(this))});else dialog.wrap[i].mouseover(function(){self.showTooltip($(this))})}itemsContainer.find(".lwsc_spacer").last().remove();itemsContainer.find(".liknoscroller_item[lwsc_modal_type][lwsc_modal]").each(function(){var itm=$(this);if(itm.attr("lwsc_modal")!=""){itm.click(function(){if(itm.attr("lwsc_modal_type")=="lwsc_internal"){self.openModal(itm.attr("lwsc_modal"))}else{self.openExternalModal(itm.attr("lwsc_modal_type"),itm.attr("lwsc_modal"))}})}});return itemsContainer},openModal:function(cnt){if(ie6){dialog.iframe=$('<iframe src="javascript:false;"/>').css({display:'block',opacity:0,position:'fixed',height:$(window).height(),width:$(window).width(),zIndex:opts.zIndex+19,top:0,left:0}).appendTo($("body"));$("body").append(dialog.iframe)}dialog.overlay=$('<div/>').addClass('liknoscroller-overlay').css({display:'block',"background-color":"black",opacity:0.5,height:isTouch?Math.max($(document).height(),$(window).height(),document.documentElement.clientHeight):$(window).height(),width:$(window).width(),position:(ie6||ieQuirks||isTouch)?'absolute':'fixed',left:0,top:0,zIndex:opts.zIndex+20});$("body").append(dialog.overlay);$(window).resize(function(){self.refreshModal()});dialog.modalContent=$("<div><span style='color: #000; font-size: 12px;'>loading...<span></div>").css({"border":"1px solid #666666","padding":"5px","background-color":"white","overflow":"hidden","position":"absolute","left":-9999,"top":-9999,"z-index":opts.zIndex+21});var tmpcnt=$("<div/>").html(cnt);if(cnt.substr(0,12)=="lwmw_content"){if(cnt.substr(13,7).toLowerCase()=="ajaxurl"){url=cnt.substr(22).substr(0,cnt.length-24);setTimeout(function(){var dataLoader=$("<div/>");dataLoader.load(url,function(){if(!dialog.modalContent)return;dialog.modalContent.css({"width":"","height":""});dialog.modalContent.html(dataLoader);dialog.modalContent.data("width",dialog.modalContent.width()).data("height",dialog.modalContent.height());self.refreshModal()})},100)}else if(cnt.substr(13,11).toLowerCase()=="externalurl"){url=cnt.substr(26).substr(0,cnt.length-28);var supImgExt=[".jpg",".jpeg",".bmp",".gif",".png",".tiff",".tif"],isImg=false;for(var i=0;i<supImgExt.length;i++)isImg=isImg||(url.match(supImgExt[i]+"$")==supImgExt[i]);if(isImg){$("<img>").css({"position":"absolute","left":-9999,"top":-9999,"z-index":opts.zIndex+21}).attr("src",url).load(function(){if(!dialog.modalContent)return;dialog.modalContent.remove();dialog.modalContent=$(this);$("body").append(dialog.modalContent);dialog.modalContent.click(function(e){self.closeModal()});dialog.modalContent.data("width",$(this).width()).data("height",$(this).height());self.refreshModal()})}else{dialog.modalContent.html("<iframe frameborder='0' src='"+url+"' style='border: none; width: 400px; height: 300px;'></iframe>");dialog.modalContent.data("width",dialog.modalContent.width()).data("height",dialog.modalContent.height())}}else{alert("Likno Web Scroller Builder Error: Unrecognized Modal Data!")}}else{dialog.modalContent.html(cnt)}$("body").append(dialog.modalContent);dialog.modalContent.data("width",dialog.modalContent.width()).data("height",dialog.modalContent.height());self.refreshModal();dialog.modalContent.click(function(e){self.closeModal()});dialog.overlay.click(function(e){self.closeModal()})},openExternalModal:function(mdl,cnt){modal_call=mdl;if(cnt=="lwmw_own_content"){modal_call+="();"}else{modal_call+="({bodySource:";if(cnt.substr(0,12)=="lwmw_content"){if(cnt.substr(13,7).toLowerCase()=="ajaxurl"){var url=cnt.substr(22).substr(0,cnt.length-24);modal_call+="'<div ajaxUrl=\\'"+url+"\\'/>'"}else if(cnt.substr(13,11).toLowerCase()=="externalurl"){var url=cnt.substr(26).substr(0,cnt.length-28);modal_call+="'<div externalUrl=\\'"+url+"\\'/>'"}else{alert("Likno Web Scroller Builder Error: Unrecognized Modal Data!")}}else{modal_call+="'"+cnt.replace(/'/g,"\\'")+"'"}modal_call+="});"}eval(modal_call)},refreshModal:function(){if(ie6)dialog.iframe.css({height:$(window).height(),width:$(window).width()});dialog.overlay.css({height:isTouch?Math.max($(document).height(),$(window).height(),document.documentElement.clientHeight):$(window).height(),width:$(window).width()});var c=dialog.modalContent;var gv=self.getVal;var ww=$(window).width(),wh=$(window).height(),brdr=20;var w=c.data("width"),h=c.data("height");var _w=gv(c.css("padding-left"))+gv(c.css("padding-right"))+gv(c.css("border-left-width"))+gv(c.css("border-right-width"));var _h=gv(c.css("padding-top"))+gv(c.css("padding-bottom"))+gv(c.css("border-top-width"))+gv(c.css("border-bottom-width"));var r=Math.max((w/(ww-(brdr+_w))),(h/(wh-(brdr+_h))));if(r>1){w=Math.round(w/r);h=Math.round(h/r)}if($.browser.msie&&parseInt($.browser.version.substring(0,1))>5){var IE8ItalicFix=0;c.find("i").each(function(){var t=parseInt(self.getVal($(this).css('font-size'))/3);if(t>IE8ItalicFix)IE8ItalicFix=t});w+=IE8ItalicFix}c.css({width:w,height:h});var t=(wh-h)/2,l=(ww-w)/2;c.css({"top":t,"left":l})},closeModal:function(item){dialog.overlay.remove();dialog.modalContent.remove();dialog.modalContent=null;if(ie6)dialog.iframe.remove()},setItemStyle:function(item){var state=item.data("state");item.css(eval("opts.items."+state+"Css"));item.find("img[src_selected]").each(function(){$(this).attr("src",$(this).attr("src_"+state))})},create:function(){if(opts.container.borderImage.show&&(opts.container.borderImage.topWidth>0||opts.container.borderImage.rightWidth>0||opts.container.borderImage.bottomWidth>0||opts.container.borderImage.leftWidth>0)){var bi_html="<table cellspacing='0' cellpadding='0'>";if(opts.container.borderImage.topWidth>0){bi_html+="<tr>";if(opts.container.borderImage.leftWidth>0)bi_html+="<td class='lwsc_mts' background='"+opts.container.borderImage.borderImageSetName+"_topleft."+opts.container.borderImage.borderImageSetExtension+"'><div style='display: block; width: "+opts.container.borderImage.leftWidth+"px; height: "+opts.container.borderImage.topWidth+"px;'>&nbsp;</div></td>";bi_html+="<td class='lwsc_mts' background='"+opts.container.borderImage.borderImageSetName+"_top."+opts.container.borderImage.borderImageSetExtension+"'><div style='display: block;  height: "+opts.container.borderImage.topWidth+"px;'>&nbsp;</div></td>";if(opts.container.borderImage.rightWidth>0)bi_html+="<td class='lwsc_mts' background='"+opts.container.borderImage.borderImageSetName+"_topright."+opts.container.borderImage.borderImageSetExtension+"'><div style='display: block; width:"+opts.container.borderImage.rightWidth+"px; height: "+opts.container.borderImage.topWidth+"px;'>&nbsp;</div></td>";bi_html+="</tr>"}bi_html+="<tr>";if(opts.container.borderImage.leftWidth>0)bi_html+="<td class='lwsc_mts' background='"+opts.container.borderImage.borderImageSetName+"_left."+opts.container.borderImage.borderImageSetExtension+"'><div style='display: block; width: "+opts.container.borderImage.leftWidth+"px;'>&nbsp;</div></td>";bi_html+="<td class='scroller_border_content'></td>";if(opts.container.borderImage.rightWidth>0)bi_html+="<td class='lwsc_mts' background='"+opts.container.borderImage.borderImageSetName+"_right."+opts.container.borderImage.borderImageSetExtension+"'><div style='display: block; width: "+opts.container.borderImage.rightWidth+"px;'>&nbsp;</div></td>";bi_html+="</tr>";if(opts.container.borderImage.topWidth>0){bi_html+="<tr>";if(opts.container.borderImage.leftWidth>0)bi_html+="<td class='lwsc_mts' background='"+opts.container.borderImage.borderImageSetName+"_bottomleft."+opts.container.borderImage.borderImageSetExtension+"'><div style='display: block; width: "+opts.container.borderImage.leftWidth+"; height: "+opts.container.borderImage.bottomWidth+"px;'>&nbsp;</div></td>";bi_html+="<td class='lwsc_mts' background='"+opts.container.borderImage.borderImageSetName+"_bottom."+opts.container.borderImage.borderImageSetExtension+"'><div style='display: block; height: "+opts.container.borderImage.bottomWidth+"px;'>&nbsp;</div></td>";if(opts.container.borderImage.rightWidth>0)bi_html+="<td class='lwsc_mts' background='"+opts.container.borderImage.borderImageSetName+"_bottomright."+opts.container.borderImage.borderImageSetExtension+"'><div style='display: block; width: "+opts.container.borderImage.rightWidth+"px; height: "+opts.container.borderImage.bottomWidth+"px;'>&nbsp;</div></td>";bi_html+="</tr>"}bi_html+="</table>";dialog.borderImage=$(bi_html);dialog.borderImage.content=dialog.borderImage.find(".scroller_border_content");dialog.borderImage.find(".lwsc_mts").css({"line-height":"0px","font-size":"0px"})}else opts.container.borderImage.show=false;dialog.container=$("<div></div>").addClass(opts.classes.containerClass).addClass("liknoscroller_container_area").css($.extend(true,{},opts.container.textCss,{clear:'both',display:'none',zIndex:opts.zIndex+2}));dialog.containerTable=$("<table cellspacing='0' cellpadding='0' width='100%' height='100%'></table>");dialog.container.append(dialog.containerTable);if(opts.container.borderImage.ignoreCssBorder)dialog.container.css({"border":"none","border-radius":"0px"});dialog.container.insertBefore(dialog.defaultPositioning);if(opts.container.borderImage.show){dialog.borderImage.insertBefore(dialog.container);dialog.borderImage.content.append(dialog.container)}dialog.itemsContainer=self.buildItemsContainer();dialog.itemsContainer.css({padding:0,margin:0});if(opts.showTopArea){dialog.top_area=$("<td height='1%' colspan='3'></td>").addClass("liknoscroller_top_area").css(opts.topAreaCss).append($("<table cellspacing='0' cellpadding='0' width='100%'></table>").append($("<tr></tr>").append($("<td width='100%'></td>").append($(dialog.topSide).css("display","block")))));dialog.containerTable.append($("<tr></tr>").append(dialog.top_area));if(dialog.topSide&&dialog.topSide.length==0){dialog.top_area.parent().css("display","none")}}dialog.middleRow=$("<tr></tr>");var cs=1;if(opts.showLeftArea){dialog.left_area=$("<td></td>").addClass("liknoscroller_left_area").append($("<div></div>").append($("<table cellspacing='0' cellpadding='0' style='height: 100%;' height='100%' width='100%'></table>").append($("<tr></tr>").append($("<td style='height: 100%;'></td>").css({verticalAlign:(typeof(opts.leftAreaCss.verticalAlign)=="undefined"?"middle":opts.leftAreaCss.verticalAlign)}).append($(dialog.leftSide).css("display","block")))))).css(opts.leftAreaCss);dialog.middleRow.append(dialog.left_area);if(dialog.leftSide&&dialog.leftSide.length==0){dialog.left_area.css("display","none");cs++}}dialog.items_area=$("<div></div>").append(dialog.itemsContainer);if(opts.navigationArrows.show){if(opts.navigationArrows.showContainer||!opts.navigationArrows.isFloating)$("head").append($("<style>"+opts.navigationArrows.arrowContainerCssClasses+"</style>"));$("head").append($("<style>"+opts.navigationArrows.arrowCssClasses+"</style>"));if(opts.navigationArrows.previousHTML.indexOf("%ARROW_SET_IMAGE%")>=0){opts.navigationArrows.previousHTML=opts.navigationArrows.previousHTML.replace("%ARROW_SET_IMAGE%",opts.container.isVertical?opts.navigationArrows.imageTopNormal:opts.navigationArrows.imageLeftNormal)}if(opts.navigationArrows.nextHTML.indexOf("%ARROW_SET_IMAGE%")>=0){opts.navigationArrows.nextHTML=opts.navigationArrows.nextHTML.replace("%ARROW_SET_IMAGE%",opts.container.isVertical?opts.navigationArrows.imageBottomNormal:opts.navigationArrows.imageRightNormal)}dialog.backButton=$("<div>"+opts.navigationArrows.previousHTML+"</div>").css({"white-space":"nowrap","cursor":"pointer","z-index":"10"});dialog.backButton.data('direction',opts.container.isVertical?'top':'left').find("img[src='"+(opts.container.isVertical?opts.navigationArrows.imageTopNormal:opts.navigationArrows.imageLeftNormal)+"']").addClass("nav_arrow_img");dialog.forwardButton=$("<div>"+opts.navigationArrows.nextHTML+"</div>").css({"white-space":"nowrap","cursor":"pointer","z-index":"10"});dialog.forwardButton.data('direction',opts.container.isVertical?'bottom':'right').find("img[src='"+(opts.container.isVertical?opts.navigationArrows.imageBottomNormal:opts.navigationArrows.imageRightNormal)+"']").addClass("nav_arrow_img");if(!opts.navigationArrows.isFloating){var t=$("<table cellspacing='0' cellpadding='0' width='100%' height='100%'></table>");if(opts.container.isVertical){t.append($("<tr style='vertical-align: middle; text-align: center;'></tr>").append($("<td style='vertical-align: middle; text-align: center;'></td>").append(dialog.backButton)));t.append($("<tr style='vertical-align: middle; text-align: center;' height='100%' width='100%'></tr>").append($("<td></td>").append($("<div>").append(dialog.items_area))));t.append($("<tr style='vertical-align: middle; text-align: center;'></tr>").append($("<td style='vertical-align: middle; text-align: center;'></td>").append(dialog.forwardButton)))}else{t.append($("<tr></tr>").append($("<td style='vertical-align: middle; text-align: center;'></td>").append(dialog.backButton)).append($("<td style='vertical-align: middle; text-align: center;' height='100%' width='100%'></td>").append($("<div>").append(dialog.items_area))).append($("<td style='vertical-align: middle; text-align: center;'></td>").append(dialog.forwardButton)))}dialog.middleRow.append($("<td width='100%'></td>").append(t))}else{dialog.middleRow.append($("<td width='100%'></td>").append($("<div>").append(dialog.items_area)));if(opts.container.isVertical){dialog.backButton.css({position:opts.navigationArrows.showContainer?"relative":"absolute",top:opts.navigationArrows.showContainer?0:opts.navigationArrows.arrowMargin,left:opts.navigationArrows.showContainer?0:'auto',right:opts.navigationArrows.showContainer?0:'auto'}).insertBefore(dialog.items_area);dialog.forwardButton.css({position:opts.navigationArrows.showContainer?"relative":"absolute",bottom:opts.navigationArrows.showContainer?0:opts.navigationArrows.arrowMargin,left:opts.navigationArrows.showContainer?0:'auto',right:opts.navigationArrows.showContainer?0:'auto'}).insertBefore(dialog.items_area)}else{dialog.backButton.css({position:opts.navigationArrows.showContainer?"relative":"absolute",top:opts.navigationArrows.showContainer?0:'auto',bottom:opts.navigationArrows.showContainer?0:'auto',left:opts.navigationArrows.showContainer?0:opts.navigationArrows.arrowMargin}).insertBefore(dialog.items_area);dialog.forwardButton.css({position:opts.navigationArrows.showContainer?"relative":"absolute",top:opts.navigationArrows.showContainer?0:'auto',bottom:opts.navigationArrows.showContainer?0:'auto',right:opts.navigationArrows.showContainer?0:opts.navigationArrows.arrowMargin}).insertBefore(dialog.items_area)}if(opts.navigationArrows.autoHide){dialog.container.mouseout(function(){dialog.backButton.css({display:'none'});dialog.forwardButton.css({display:'none'})}).mouseover(function(){dialog.backButton.css({display:'block'});dialog.forwardButton.css({display:'block'})});dialog.backButton.css({display:'none'});dialog.forwardButton.css({display:'none'})}}dialog.backButton.addClass('arrow_btn').addClass('liknoscroller_arrow').addClass(opts.container.isVertical?'top':'left').addClass('normal').data("state",'normal');dialog.forwardButton.addClass('arrow_btn').addClass('liknoscroller_arrow').addClass(opts.container.isVertical?'bottom':'right').addClass('normal').data("state",'normal');var prev_tmp,next_tmp;if(opts.navigationArrows.show&&!opts.navigationArrows.isFloating){prev_tmp=dialog.backButton.parent();next_tmp=dialog.forwardButton.parent()}else{if(opts.container.isVertical){prev_tmp=$("<div class='arrow_container normal'></div>").css({position:"absolute",top:0}).insertBefore(dialog.backButton).append(dialog.backButton);next_tmp=$("<div class='arrow_container normal'></div>").css({position:"absolute",bottom:0}).insertBefore(dialog.forwardButton).append(dialog.forwardButton)}else{prev_tmp=$("<div class='arrow_container normal'></div>").css({position:"absolute",left:0}).insertBefore(dialog.backButton).append(dialog.backButton);next_tmp=$("<div class='arrow_container normal'></div>").css({position:"absolute",right:0}).insertBefore(dialog.forwardButton).append(dialog.forwardButton)}}prev_tmp.addClass('arrow_container').addClass(opts.container.isVertical?'top':'left').addClass('normal');next_tmp.addClass('arrow_container').addClass(opts.container.isVertical?'bottom':'right').addClass('normal');prev_tmp.mouseover(function(){dialog.backButton.data("state",'over');self.setNavigationArrowStyle(dialog.backButton)}).mouseout(function(){dialog.backButton.data("state",'normal');self.setNavigationArrowStyle(dialog.backButton)}).mousedown(function(){dialog.backButton.data("state",'click');self.setNavigationArrowStyle(dialog.backButton)}).mouseup(function(){dialog.backButton.data("state",'over');self.setNavigationArrowStyle(dialog.backButton)}).data("state",'normal');next_tmp.mouseover(function(){dialog.forwardButton.data("state",'over');self.setNavigationArrowStyle(dialog.forwardButton)}).mouseout(function(){dialog.forwardButton.data("state",'normal');self.setNavigationArrowStyle(dialog.forwardButton)}).mousedown(function(){dialog.forwardButton.data("state",'click');self.setNavigationArrowStyle(dialog.forwardButton)}).mouseup(function(){dialog.forwardButton.data("state",'over');self.setNavigationArrowStyle(dialog.forwardButton)}).data("state",'normal');if(opts.navigationArrows.trigger==0){prev_tmp.mousedown(function(){self.startBack()}).mouseup(function(){self.stopBack()}).mouseout(function(){self.stopBack()});next_tmp.mousedown(function(){self.startForward()}).mouseup(function(){self.stopForward()}).mouseout(function(){self.stopForward()})}else if(opts.navigationArrows.trigger==1){prev_tmp.mousedown(function(){self.startBack(true)}).mouseup(function(){self.stopBack()}).mouseout(function(){self.stopBack()});next_tmp.mousedown(function(){self.startForward(true)}).mouseup(function(){self.stopForward()}).mouseout(function(){self.stopForward()})}else if(opts.navigationArrows.trigger==2){prev_tmp.mouseover(function(){self.startBack()}).mouseout(function(){self.stopBack()});next_tmp.mouseover(function(){self.startForward()}).mouseout(function(){self.stopForward()})}else if(opts.navigationArrows.trigger==3){prev_tmp.mouseover(function(){self.startBack()}).mousedown(function(){self.startBack(true)}).mouseup(function(){self.startBack()}).mouseout(function(){self.stopBack()});next_tmp.mouseover(function(){self.startForward()}).mousedown(function(){self.startForward(true)}).mouseup(function(){self.startForward()}).mouseout(function(){self.stopForward()})}}else{dialog.middleRow.append($("<td width='100%'></td>").append(dialog.items_area))}dialog.items_area.parent().addClass("liknoscroller_items_area").css(opts.itemsAreaCss);if(opts.showRightArea){dialog.right_area=$("<td></td>").addClass("liknoscroller_right_area").append($("<div></div>").append($("<table cellspacing='0' cellpadding='0' style='height: 100%;' height='100%' width='100%'></table>").append($("<tr></tr>").append($("<td style='height: 100%;'></td>").css({verticalAlign:(typeof(opts.rightAreaCss.verticalAlign)=="undefined"?"middle":opts.leftAreaCss.verticalAlign)}).append($(dialog.rightSide).css("display","block")))))).css(opts.rightAreaCss);dialog.middleRow.append(dialog.right_area);if(dialog.rightSide&&dialog.rightSide.length==0){dialog.right_area.css("display","none");cs++}dialog.items_area.attr('colspan',cs)}dialog.containerTable.append(dialog.middleRow);if(opts.showBottomArea){dialog.bottom_area=$("<td height='1%' colspan='3'></td>").addClass("liknoscroller_bottom_area").css(opts.bottomAreaCss).append($("<table cellspacing='0' cellpadding='0' width='100%'></table>").append($("<tr></tr>").append($("<td width='100%'></td>").append($(dialog.bottomSide).css("display","block")))));dialog.containerTable.append($("<tr></tr>").append(dialog.bottom_area));if(dialog.bottomSide&&dialog.bottomSide.length==0){dialog.bottom_area.parent().css("display","none")}}dialog.items_area.css({"overflow":"hidden"});if(opts.positioning.type>0){if($(opts.positioning.selector).length>0){switch(opts.positioning.type){case 1:if(opts.container.borderImage.show)dialog.borderImage.appendTo($(opts.positioning.selector));else dialog.container.appendTo($(opts.positioning.selector));break;case 2:if(opts.singleContainer){if(opts.container.borderImage.show)dialog.borderImage.insertBefore($(opts.positioning.selector));else dialog.container.insertBefore($(opts.positioning.selector))}else{}$(opts.positioning.selector).remove();break;case 10:case 11:case 12:if(opts.container.borderImage.show)dialog.borderImage.appendTo($("body"));else dialog.container.appendTo($("body"));break}}else{if(opts.singleContainer){if(opts.container.borderImage.show)dialog.borderImage.remove();else dialog.container.remove()}else{}alert('Likno Web Scroller Builder Error: Positioning element "'+opts.positioning.selector+'" is not found in page.')}}else if(ie6){if(opts.container.borderImage.show)$("<div>&nbsp;</div>").css("line-height","0px").insertBefore(dialog.borderImage).append(dialog.borderImage);else $("<div>&nbsp;</div>").css("line-height","0px").insertBefore(dialog.container).append(dialog.container)}if(opts.bindNavigationImages)self.bindNavigationImages();if(opts.bindShowHideLinks)self.bindShowHideLinks();dialog.currentItem=opts.currentItem;dialog.items_area.parent().css({position:"relative"});if(opts.navigationBar.show){dialog.navigationBar=$('<div/>').css({overflow:'hidden',display:'block',opacity:opts.navigationBar.opacity/100}).addClass(opts.classes.scrollerClass+' navigationBarArea').addClass('liknoscroller_navbar').mouseover(function(){$(this).css({opacity:opts.navigationBar.opacityOver/100})}).mouseout(function(){$(this).css({opacity:opts.navigationBar.opacity/100})});self.createNavigationBar()}self.setNavigationArrowStyle(dialog.backButton);self.setNavigationArrowStyle(dialog.forwardButton);setTimeout(function(){self.positionNavigationBar();self.setContainerDimensions();if(opts.navigationBar.showPages)self.setNavigationBarPage(self.getPageFromPosition(opts.container.isVertical?dialog.items_area.scrollTop():dialog.items_area.scrollLeft()));self.bindEvents();if(dialog.currentItem<0)dialog.currentItem=0;if(dialog.currentItem>=dialog.scrollerItems.length)dialog.currentItem=dialog.scrollerItems.length-1;self.setData(false,true,true);self.initializing="done";if(opts.positioning.type>=10)self.setContainerPositioning();if(opts.play.autoStart)self.autoPlayStart()},150);return;if(dialog.currentItem<-2)dialog.currentItem=0;if(dialog.currentItem>=dialog.scrollerItems.length)dialog.currentItem=dialog.scrollerItems.length-1;if(dialog.scrollerItems.length>0){dialog.working=false;self.closeAllAccordions(false);dialog.oldPage=null;if(dialog.currentItem==-2)self.openAllAccordions(false);else if(dialog.currentItem>=0){self.setData(false,true)}}},setNavigationArrowStyle:function(arrow){if(!opts.navigationArrows.show)return;var ce=dialog.items_area;var state=arrow.data("state");if(!opts.play.loop&&((arrow.data('direction')=="top"&&ce.scrollTop()==0)||((arrow.data('direction')=="bottom")&&(ce.scrollTop()>=(ce.children("table").eq(0).height()-ce.height())))||((arrow.data('direction')=="left")&&(ce.scrollLeft()==0))||((arrow.data('direction')=="right")&&(ce.scrollLeft()>=(ce.children("table").eq(0).width()-ce.width())))))state="disabled";var img_var="image"+arrow.data('direction').charAt(0).toUpperCase()+arrow.data('direction').substring(1)+state.charAt(0).toUpperCase()+state.substring(1);arrow.find('.nav_arrow_img').attr('src',eval("opts.navigationArrows."+img_var));dialog.container.find('.arrow_container.'+arrow.data('direction')).removeClass('normal').removeClass('over').removeClass('click').removeClass('disabled').addClass(state);dialog.container.find('.arrow_btn.'+arrow.data('direction')).removeClass('normal').removeClass('over').removeClass('click').removeClass('disabled').addClass(state)},startBack:function(speedUp){opts.play.mouseSpeedUp=speedUp;if(opts.play.step==0){opts.play.realStepMove=(opts.play.stepSpeed+10)/10;opts.play.realStepIncrease=opts.play.realStepMove/50}else if(opts.play.step==1){opts.play.realStepMove=dialog.wrap[0].outerWidth()+opts.actualDistanceBetweenItems}else if(opts.play.step==2){opts.play.realStepMove=dialog.items_area.width()}clearInterval(opts.play.keepGoing);if(opts.play.step==0){clearTimeout(opts.play.keepGoing);opts.play.keepGoing=setInterval(self.goBack,(opts.navigationArrows.trigger==3&&speedUp)?20:50)}else{self.goBack();clearTimeout(opts.play.keepGoing);opts.play.keepGoing=setInterval(self.goBack,opts.play.delay+opts.play.duration)}},stopBack:function(){opts.play.mouseSpeedUp=false;opts.play.realStepMove=(opts.play.stepSpeed+10)/10;clearTimeout(opts.play.keepGoing)},goBack:function(){var d=dialog.items_area;if(opts.play.step==1){if(opts.play.stepType==0){if(opts.container.isVertical)d.scrollTop(self.getItemStepPosition(false));else d.scrollLeft(self.getItemStepPosition(false))}else{if(opts.container.isVertical){if(opts.play.loop&&d.scrollTop()==0)d.scrollTop((d.children().height()+dialog.itemsContainer.find(".lwsc_spacer").outerHeight())/2);d.animate({scrollTop:self.getItemStepPosition(false)},opts.play.duration,opts.play.allEffects[opts.play.effect],function(){self.setNavigationBarPage(self.getPageFromPosition(d.scrollTop()))})}else{if(opts.play.loop&&d.scrollLeft()==0)d.scrollLeft((d.children().width()+dialog.itemsContainer.find(".lwsc_spacer").outerWidth())/2);d.animate({scrollLeft:self.getItemStepPosition(false)},opts.play.duration,opts.play.allEffects[opts.play.effect],function(){self.setNavigationBarPage(self.getPageFromPosition(d.scrollLeft()))})}}}else if(opts.play.step==2){if(opts.play.stepType==0){if(opts.container.isVertical)d.scrollTop(self.getPageStepPosition(false));else d.scrollLeft(self.getPageStepPosition(false))}else{var tmp_p=self.getPageStepPosition(false);if(opts.container.isVertical){if(opts.play.loop&&d.scrollTop()==0)d.scrollTop((d.children().height()+dialog.itemsContainer.find(".lwsc_spacer").outerHeight())/2);d.animate({scrollTop:tmp_p},opts.play.duration,opts.play.allEffects[opts.play.effect],function(){self.setNavigationBarPage(self.getPageFromPosition(d.scrollTop()))})}else{var tmp_p=self.getPageStepPosition(false);if(opts.play.loop&&d.scrollLeft()==0)d.scrollLeft((d.children().width()+dialog.itemsContainer.find(".lwsc_spacer").outerWidth())/2);d.animate({scrollLeft:tmp_p},opts.play.duration,opts.play.allEffects[opts.play.effect],function(){self.setNavigationBarPage(self.getPageFromPosition(d.scrollLeft()))})}}}else if(opts.play.step==0){if(opts.container.isVertical){if(opts.play.loop&&d.scrollTop()-opts.play.realStepMove<0){d.animate({scrollTop:d.scrollTop()-opts.play.realStepMove+d.children().height()/2},10)}else{d.animate({scrollTop:d.scrollTop()-opts.play.realStepMove},10)}}else{if(opts.play.loop&&d.scrollLeft()-opts.play.realStepMove<0){d.animate({scrollLeft:d.scrollLeft()-opts.play.realStepMove+d.children().width()/2},10)}else{d.animate({scrollLeft:d.scrollLeft()-opts.play.realStepMove},10)}}if(opts.play.mouseSpeedUp&&opts.play.step==0)if(opts.play.realStepMove<(opts.container.isVertical?d.height():d.width()))opts.play.realStepMove+=opts.play.realStepIncrease}self.setNavigationArrowStyle(dialog.backButton);self.setNavigationArrowStyle(dialog.forwardButton);self.setNavigationBarPage(self.getPageFromPosition(opts.container.isVertical?d.scrollTop():d.scrollLeft()))},startForward:function(speedUp){opts.play.mouseSpeedUp=speedUp;if(opts.play.step==0){opts.play.realStepMove=(opts.play.stepSpeed+10)/10;opts.play.realStepIncrease=opts.play.realStepMove/50}else if(opts.play.step==1){opts.play.realStepMove=dialog.wrap[0].outerWidth()+opts.actualDistanceBetweenItems}else if(opts.play.step==2){opts.play.realStepMove=dialog.items_area.width()}clearInterval(opts.play.keepGoing);if(opts.play.step==0){opts.play.keepGoing=setInterval(self.goForward,(opts.navigationArrows.trigger==3&&speedUp)?20:50)}else{self.goForward();opts.play.keepGoing=setInterval(self.goForward,opts.play.delay+opts.play.duration)}},stopForward:function(){opts.play.mouseSpeedUp=false;opts.play.realStepMove=(opts.play.stepSpeed+10)/10;clearTimeout(opts.play.keepGoing)},goForward:function(){var d=dialog.items_area;if(opts.play.step==1){if(opts.play.stepType==0){if(opts.container.isVertical){d.scrollTop(self.getItemStepPosition(true));if(opts.play.loop&&(d.scrollTop()>=(d.children().height()+dialog.itemsContainer.find(".lwsc_spacer").outerHeight())/2))d.scrollTop(0);self.setNavigationBarPage(self.getPageFromPosition(d.scrollTop()))}else{d.scrollLeft(self.getItemStepPosition(true));if(opts.play.loop&&(d.scrollLeft()>=(d.children().width()+dialog.itemsContainer.find(".lwsc_spacer").outerWidth())/2))d.scrollLeft(0);self.setNavigationBarPage(self.getPageFromPosition(d.scrollLeft()))}}else{if(opts.container.isVertical){d.animate({scrollTop:self.getItemStepPosition(true)},opts.play.duration,opts.play.allEffects[opts.play.effect],function(){if(opts.play.loop&&d.scrollTop()>=(d.children().height()+dialog.itemsContainer.find(".lwsc_spacer").outerHeight())/2)d.scrollTop(0);self.setNavigationBarPage(self.getPageFromPosition(d.scrollTop()))})}else{d.animate({scrollLeft:self.getItemStepPosition(true)},opts.play.duration,opts.play.allEffects[opts.play.effect],function(){if(opts.play.loop&&d.scrollLeft()>=(d.children().width()+dialog.itemsContainer.find(".lwsc_spacer").outerWidth())/2)d.scrollLeft(0);self.setNavigationBarPage(self.getPageFromPosition(d.scrollLeft()))})}}}else if(opts.play.step==2){if(opts.play.stepType==0){if(opts.container.isVertical){d.scrollTop(self.getPageStepPosition(true));if(opts.play.loop&&(d.scrollTop()>=(d.children().height()+dialog.itemsContainer.find(".lwsc_spacer").outerHeight())/2))d.scrollTop(0);self.setNavigationBarPage(self.getPageFromPosition(d.scrollTop()))}else{d.scrollLeft(self.getPageStepPosition(true));if(opts.play.loop&&(d.scrollLeft()>=(d.children().width()+dialog.itemsContainer.find(".lwsc_spacer").outerWidth())/2))d.scrollLeft(0);self.setNavigationBarPage(self.getPageFromPosition(d.scrollLeft()))}}else{var tmp_p=self.getPageStepPosition(true);if(opts.container.isVertical){d.animate({scrollTop:tmp_p},opts.play.duration,opts.play.allEffects[opts.play.effect],function(){if(opts.play.loop&&d.scrollTop()>=(d.children().height()+dialog.itemsContainer.find(".lwsc_spacer").outerHeight())/2)d.scrollTop(0);self.setNavigationBarPage(self.getPageFromPosition(d.scrollTop()))})}else{d.animate({scrollLeft:tmp_p},opts.play.duration,opts.play.allEffects[opts.play.effect],function(){if(opts.play.loop&&d.scrollLeft()>=(d.children().width()+dialog.itemsContainer.find(".lwsc_spacer").outerWidth())/2)d.scrollLeft(0);self.setNavigationBarPage(self.getPageFromPosition(d.scrollLeft()))})}}}else if(opts.play.step==0){if(opts.container.isVertical){if(opts.play.loop&&d.scrollTop()+opts.play.realStepMove>d.children().height()/2){d.scrollTop(d.scrollTop()+opts.play.realStepMove-d.children().height()/2)}else{d.scrollTop(d.scrollTop()+opts.play.realStepMove)}}else{if(opts.play.loop&&d.scrollLeft()+opts.play.realStepMove>d.children().width()/2){d.scrollLeft(d.scrollLeft()+opts.play.realStepMove-d.children().width()/2)}else{d.scrollLeft(d.scrollLeft()+opts.play.realStepMove)}}if(opts.play.mouseSpeedUp&&opts.play.step==0)if(opts.play.realStepMove<(opts.container.isVertical?d.height():d.width()))opts.play.realStepMove+=opts.play.realStepIncrease}self.setNavigationArrowStyle(dialog.backButton);self.setNavigationArrowStyle(dialog.forwardButton);self.setNavigationBarPage(self.getPageFromPosition(opts.container.isVertical?d.scrollTop():d.scrollLeft()))},getItemStepPosition:function(isForward){var d=dialog.items_area;if(isForward){for(var i=0;i<=dialog.scrollerItems.length;i++){if(i==dialog.scrollerItems.length){if(opts.container.isVertical){return opts.play.loop?((d.children().height()+dialog.itemsContainer.find(".lwsc_spacer").outerHeight())/2):null}else{return opts.play.loop?((d.children().width()+dialog.itemsContainer.find(".lwsc_spacer").outerWidth())/2):null}}if(dialog.scrollerItems[i].data('item_pos')>Math.floor(opts.container.isVertical?d.scrollTop():d.scrollLeft()))return dialog.scrollerItems[i].data('item_pos')}}else{if(Math.floor(opts.container.isVertical?d.scrollTop():d.scrollLeft())==0)return opts.play.loop?dialog.scrollerItems[dialog.scrollerItems.length-1].data('item_pos'):0;for(var i=dialog.scrollerItems.length-1;i>=0;i--){if(dialog.scrollerItems[i].data('item_pos')<Math.floor(opts.container.isVertical?d.scrollTop():d.scrollLeft()))return dialog.scrollerItems[i].data('item_pos')}}return 0},getPageStepPosition:function(isForward){var d=dialog.items_area;var cur=Math.floor(opts.container.isVertical?d.scrollTop():d.scrollLeft());if(isForward){if(dialog.pages[opts.currentPage]>cur)return dialog.pages[opts.currentPage];if(opts.currentPage==dialog.pages.length-1){if(opts.container.isVertical){return opts.play.loop?((d.children().height()+dialog.itemsContainer.find(".lwsc_spacer").outerHeight())/2):dialog.pages[dialog.pages.length-1]}else{return opts.play.loop?((d.children().width()+dialog.itemsContainer.find(".lwsc_spacer").outerWidth())/2):dialog.pages[dialog.pages.length-1]}}else return dialog.pages[opts.currentPage+1]}else{if(dialog.pages[opts.currentPage]<cur)return dialog.pages[opts.currentPage];if(opts.currentPage==0)return opts.play.loop?dialog.pages[dialog.pages.length-1]:0;else return dialog.pages[opts.currentPage-1]}return 0},bindEvents:function(){if(opts.positioning.type>=10)$(window).bind('resize',function(){self.setContainerPositioning()});if(opts.play.pauseByMouse||opts.play.autoPlayByMouse>0){$("."+opts.classes.separatorClass+", ."+opts.classes.headerClass+", ."+opts.classes.itemClass+", ."+opts.classes.itemsContainerClass+", ."+opts.classes.containerClass).mouseover(function(){opts.play.isPaused=true}).mouseout(function(){opts.play.isPaused=false})}if(opts.play.autoPlayByMouse>0){if(opts.play.autoPlayByMouse==1){dialog.items_area.mousemove(self.doMouseMovePosition)}else if(opts.play.autoPlayByMouse==2){clearInterval(opts.play.playByMouseSpeedTimer);opts.play.playByMouseSpeedTimer=setInterval(self.doMouseMoveSpeed,20);dialog.items_area.hover(function(){$(this).mousemove(function(e){self.changeMouseMoveSpeed(e)})},function(){opts.play.playByMouseSpeedStep=0})}}if(opts.play.toggleOnClick){dialog.items_area.click(function(){if(opts.play.isRunning)self.autoPlayStop();else self.autoPlayStart()})}dialog.itemsContainer.mouseout(function(){dialog.tooltipRemoval=setTimeout(function(){if(typeof dialog.tooltip!="undefined")dialog.tooltip.clearQueue().hide().remove()},250)});dialog.itemsContainer.mouseover(function(){clearTimeout(dialog.tooltipRemoval)})},changeMouseMoveSpeed:function(event){var stp=0;if(opts.container.isVertical){var y=(event.pageY-Math.round(dialog.items_area.offset().top))/dialog.items_area.outerHeight();stp=(40*y)-20}else{var x=(event.pageX-Math.round(dialog.items_area.offset().left))/dialog.items_area.outerWidth();if(x<0.40||x>0.60)stp=(40*x)-20}opts.play.playByMouseSpeedStep=Math.round(stp)},doMouseMoveSpeed:function(){var d=dialog.items_area;var s=opts.play.playByMouseSpeedStep;if(s!=0){if(opts.container.isVertical){if(opts.play.loop){if(s<0&&d.scrollTop()+s<0){d.scrollTop(d.scrollTop()+s+d.children().height()/2)}else if(s>0&&d.scrollTop()+s>d.children().height()/2){d.scrollTop(d.scrollTop()+s-d.children().height()/2)}else{d.scrollTop(d.scrollTop()+s)}}else{d.scrollTop(d.scrollTop()+s)}}else{if(opts.play.loop){if(s<0&&d.scrollLeft()+s<0){d.scrollLeft(d.scrollLeft()+s+d.children().width()/2)}else if(s>0&&d.scrollLeft()+s>d.children().width()/2){d.scrollLeft(d.scrollLeft()+s-d.children().width()/2)}else{d.scrollLeft(d.scrollLeft()+s)}}else{d.scrollLeft(d.scrollLeft()+s)}}self.setNavigationArrowStyle(dialog.backButton);self.setNavigationArrowStyle(dialog.forwardButton);self.setNavigationBarPage(self.getPageFromPosition(opts.container.isVertical?d.scrollTop():d.scrollLeft()))}},doMouseMovePosition:function(event){if(opts.container.isVertical){var ht=dialog.items_area.outerHeight()-2;var ih=dialog.itemsContainer.outerHeight();if(opts.play.loop)ih/=2;var y=event.pageY-Math.round(dialog.items_area.offset().top);dialog.items_area.scrollTop((y/ht)*(ih-ht))}else{var wd=dialog.items_area.outerWidth()-2;var iw=dialog.itemsContainer.outerWidth();if(opts.play.loop)iw/=2;var x=event.pageX-Math.round(dialog.items_area.offset().left);dialog.items_area.scrollLeft((x/wd)*(iw-wd))}self.setNavigationArrowStyle(dialog.backButton);self.setNavigationArrowStyle(dialog.forwardButton);self.setNavigationBarPage(self.getPageFromPosition(opts.container.isVertical?d.scrollTop():d.scrollLeft()))},setContainerPositioning:function(){dialog.container.css({'top':'0','left':'0'});opts.posCss={};var el={};if(opts.positioning.type==10){var w=self.getDimensions();el.left=0;el.top=0;el.width=w[1];el.height=w[0];opts.positioning.accordionCorner=opts.positioning.elementCorner}else if(opts.positioning.type==11||opts.positioning.type==12){var pos=$(opts.positioning.selector).offset();el.left=pos.left;el.top=pos.top;el.width=$(opts.positioning.selector).width();el.height=$(opts.positioning.selector).height()}if(opts.positioning.elementCorner==0||opts.positioning.elementCorner==1||opts.positioning.elementCorner==2){opts.posCss.top=el.top}if(opts.positioning.elementCorner==3||opts.positioning.elementCorner==7||opts.positioning.elementCorner==8){opts.posCss.top=el.top+el.height/2}if(opts.positioning.elementCorner==4||opts.positioning.elementCorner==5||opts.positioning.elementCorner==6){opts.posCss.top=el.top+el.height}if(opts.positioning.elementCorner==0||opts.positioning.elementCorner==6||opts.positioning.elementCorner==7){opts.posCss.left=el.left}if(opts.positioning.elementCorner==1||opts.positioning.elementCorner==5||opts.positioning.elementCorner==8){opts.posCss.left=el.left+el.width/2}if(opts.positioning.elementCorner==2||opts.positioning.elementCorner==3||opts.positioning.elementCorner==4){opts.posCss.left=el.left+el.width}if(opts.positioning.accordionCorner==3||opts.positioning.accordionCorner==7||opts.positioning.accordionCorner==8){opts.posCss.top-=dialog.container.outerHeight()/2}if(opts.positioning.accordionCorner==4||opts.positioning.accordionCorner==5||opts.positioning.accordionCorner==6){opts.posCss.top-=dialog.container.outerHeight()}if(opts.positioning.accordionCorner==1||opts.positioning.accordionCorner==5||opts.positioning.accordionCorner==8){opts.posCss.left-=dialog.container.outerWidth()/2}if(opts.positioning.accordionCorner==2||opts.positioning.accordionCorner==3||opts.positioning.accordionCorner==4){opts.posCss.left-=dialog.container.outerWidth()}opts.posCss.left+=opts.positioning.posX;opts.posCss.top+=opts.positioning.posY;opts.posCss.position="absolute";dialog.container.css(opts.posCss);if(opts.positioning.drifty){if(ie6||ieQuirks){dialog.container.css({'top':opts.posCss.top+$(window).scrollTop(),'left':opts.posCss.left+$(window).scrollLeft()});if(!opts.scrollDefined){$(window).scroll(function(){dialog.container.css({'top':opts.posCss.top+$(window).scrollTop(),'left':opts.posCss.left+$(window).scrollLeft()})});opts.scrollDefined=true}}else{dialog.container.css("position","fixed")}}},getVal:function(v){if(typeof v=="number")return v;if(v){switch(v){case'auto':return 0;case'medium':return 1;default:return parseInt(v.replace(/px/,''))}}else return 0},getDimensions:function(){var el=$(window);var h=$.browser.opera&&$.browser.version>'9.5'&&$.fn.jquery<='1.2.6'?document.documentElement['clientHeight']:$.browser.opera&&$.browser.version<'9.5'&&$.fn.jquery>'1.2.6'?window.innerHeight:el.height();var w=el.width();return[h,w]},getScrollbarWidth:function scrollbarWidth(){var inner=document.createElement('p');inner.style.width="100%";inner.style.height="200px";var outer=document.createElement('div');outer.style.position="absolute";outer.style.top="0px";outer.style.left="0px";outer.style.visibility="hidden";outer.style.width="200px";outer.style.height="150px";outer.style.overflow="hidden";outer.appendChild(inner);document.body.appendChild(outer);var w1=inner.offsetWidth;outer.style.overflow='scroll';var w2=inner.offsetWidth;if(w1==w2)w2=outer.clientWidth;document.body.removeChild(outer);return(w1-w2)},getInnerSize:function(x){var tmpH=this.getVal(x.css('borderTopWidth'))+this.getVal(x.css('borderBottomWidth'))+this.getVal(x.css('paddingBottom'))+this.getVal(x.css('paddingTop'));var tmpW=this.getVal(x.css('borderLeftWidth'))+this.getVal(x.css('borderRightWidth'))+this.getVal(x.css('paddingLeft'))+this.getVal(x.css('paddingRight'));var size={};size.w=this.getVal(x.css('width'));size.h=this.getVal(x.css('height'));if(size.h==0)size.h=x.height();if(size.w==0)size.w=x.width();if(ieQuirks){}if(size.w<0)size.w=0;if(size.h<0)size.h=0;return size},setContainerDimensions:function(){self.setMainContainerDimensions();for(var i=0;i<dialog.wrap.length;i++){dialog.wrap[i].data('borderTopWidth',self.getVal(dialog.wrap[i].css('borderTopWidth')));dialog.wrap[i].data('borderRightWidth',self.getVal(dialog.wrap[i].css('borderRightWidth')));dialog.wrap[i].data('borderBottomWidth',self.getVal(dialog.wrap[i].css('borderBottomWidth')));dialog.wrap[i].data('borderLeftWidth',self.getVal(dialog.wrap[i].css('borderLeftWidth')));dialog.wrap[i].data('marginTop',self.getVal(dialog.wrap[i].css('marginTop')));dialog.wrap[i].data('marginRight',self.getVal(dialog.wrap[i].css('marginRight')));dialog.wrap[i].data('marginBottom',self.getVal(dialog.wrap[i].css('marginBottom')));dialog.wrap[i].data('marginLeft',self.getVal(dialog.wrap[i].css('marginLeft')));dialog.wrap[i].data('paddingTop',self.getVal(dialog.wrap[i].css('paddingTop')));dialog.wrap[i].data('paddingRight',self.getVal(dialog.wrap[i].css('paddingRight')));dialog.wrap[i].data('paddingBottom',self.getVal(dialog.wrap[i].css('paddingBottom')));dialog.wrap[i].data('paddingLeft',self.getVal(dialog.wrap[i].css('paddingLeft')));dialog.wrap[i].data('width',self.getInnerSize(dialog.wrap[i]).w);dialog.wrap[i].data('height',self.getInnerSize(dialog.wrap[i]).h);dialog.wrap[i].data('opacity',self.getVal(dialog.wrap[i].css('opacity')))}},setMainContainerDimensions:function(){var v=self.getVal,ia=dialog.items_area,iap=ia.parent(),dc=dialog.container;var oc=opts.container,oi=opts.items;dialog.container.show();var mxm=$("<div></div>").css({padding:0,position:"absolute",top:100,left:100,"line-height":dialog.itemsContainer.find(".lwsc_item").eq(0).css("line-height")});$("body").append(mxm);var maxWidth=0,maxHeight=0;if(opts.items.minWidth!=opts.items.maxWidth||opts.items.minHeight!=opts.items.maxHeight){var ti=dialog.itemsContainer.find(".lwsc_item").each(function(){mxm.empty();mxm.append($(this).html());var c=mxm.children().eq(0);var tw=c.width();var twp=v(c.css("margin-left"))+v(c.css("margin-right"))+v(c.css("border-left-width"))+v(c.css("border-right-width"))+v(c.css("padding-left"))+v(c.css("padding-right"));if(!oi.autoWidth){if(tw<opts.items.minWidth-twp)tw=opts.items.minWidth-twp;if(tw>opts.items.maxWidth-twp)tw=opts.items.maxWidth-twp}$(this).children().eq(0).width(tw);c.width(tw);if(maxWidth<tw)maxWidth=tw;var th=c.height();var thp=v(c.css("margin-top"))+v(c.css("margin-bottom"))+v(c.css("border-top-width"))+v(c.css("border-bottom-width"))+v(c.css("padding-top"))+v(c.css("padding-bottom"));if(!oi.autoHeight){if(th<opts.items.minHeight-thp)th=opts.items.minHeight-thp;if(th>opts.items.maxHeight-thp)th=opts.items.maxHeight-thp}$(this).children().eq(0).height(th);if(maxHeight<th)maxHeight=th})}else{mxm.empty();var t=dialog.itemsContainer.find(".lwsc_item").eq(0);mxm.append(t.html());var c=mxm.children().eq(0);var twp=v(c.css("margin-left"))+v(c.css("margin-right"))+v(c.css("border-left-width"))+v(c.css("border-right-width"))+v(c.css("padding-left"))+v(c.css("padding-right"));var thp=v(c.css("margin-top"))+v(c.css("margin-bottom"))+v(c.css("border-top-width"))+v(c.css("border-bottom-width"))+v(c.css("padding-top"))+v(c.css("padding-bottom"));maxWidth=opts.items.maxWidth-twp;maxHeight=opts.items.maxHeight-thp}mxm.remove();if(opts.items.fixedWidth)dialog.itemsContainer.find(".lwsc_item").each(function(){$(this).children().eq(0).width(maxWidth)});if(opts.items.fixedHeight)dialog.itemsContainer.find(".lwsc_item").each(function(){$(this).children().eq(0).height(maxHeight)});var caw=dialog.container.width();var cah=dialog.container.height();if(!oc.autoWidth){if(oc.minWidth>caw)caw=oc.minWidth;if(oc.maxWidth<caw)caw=oc.maxWidth}else caw='';dialog.container.width(caw);if(!oc.autoHeight){if(oc.minHeight>cah)cah=oc.minHeight;if(oc.maxHeight<cah)cah=oc.maxHeight}else cah='';dialog.container.height(cah);if(opts.navigationBar.show)dialog.navigationBar.hide();dialog.itemsContainer.css('display','none');var w=iap.width();iap.width(w);if(!oc.isVertical)ia.width(w);if(opts.navigationBar.show)dialog.navigationBar.show();if(!oc.isVertical&&cah==''){var maxH=0;dialog.itemsContainer.find(".lwsc_item").each(function(){var h=$(this).children().eq(0).outerHeight();if(maxH<h)maxH=h});if(opts.navigationArrows.show&&!opts.navigationArrows.isFloating){if(maxH<dialog.backButton.outerHeight())maxH=dialog.backButton.outerHeight();if(maxH<dialog.forwardButton.outerHeight())maxH=dialog.forwardButton.outerHeight()}ia.height(maxH)}else{var h=dialog.middleRow.outerHeight();h-=(v(iap.css("border-top-width"))+v(iap.css("border-bottom-width"))+v(iap.css("padding-top"))+v(iap.css("padding-bottom"))+v(iap.css("margin-top"))+v(iap.css("margin-bottom")));if(oc.isVertical&&opts.navigationArrows.show&&!opts.navigationArrows.isFloating){h-=dialog.backButton.parent().outerHeight()+dialog.forwardButton.parent().outerHeight()}iap.height(h);ia.height(h)}dialog.itemsContainer.css('display','');dialog.itemsContainer.find(".lwsc_spacer").css(oc.isVertical?"padding-top":"padding-left",opts.container.distanceBetweenItems);opts.actualItemsPerPage=opts.container.itemsPerPage;opts.actualDistanceBetweenItems=opts.container.distanceBetweenItems;var ih=(oc.isVertical?dialog.wrap[0].outerHeight():dialog.wrap[0].outerWidth())+opts.actualDistanceBetweenItems;var ch=(oc.isVertical?ia.height():ia.width());if(opts.actualItemsPerPage==0||opts.actualItemsPerPage*ih>ch+opts.actualDistanceBetweenItems)opts.actualItemsPerPage=Math.floor((ch+opts.actualDistanceBetweenItems)/ih);if(opts.actualItemsPerPage>dialog.scrollerItems.length)opts.actualItemsPerPage=dialog.scrollerItems.length;var tih=(oc.isVertical?dialog.wrap[0].outerHeight():dialog.wrap[0].outerWidth());if((oc.isVertical?opts.items.fixedHeight:opts.items.fixedWidth))tih*=opts.actualItemsPerPage;else for(var i=1;i<dialog.wrap.length;i++)tih+=(oc.isVertical?dialog.wrap[i].outerHeight():dialog.wrap[i].outerWidth());if(opts.container.wholeItemsOnly){if((oc.isVertical?opts.items.fixedHeight:opts.items.fixedWidth)){if(opts.container.spreadItems){if(opts.actualItemsPerPage>1)opts.actualDistanceBetweenItems=Math.floor((ch-tih)/(opts.actualItemsPerPage-1))}var rw=ch-(tih+(opts.actualItemsPerPage-1)*opts.actualDistanceBetweenItems);opts.actualTopSpace=Math.ceil(rw/2);opts.actualBottomSpace=Math.floor(rw/2);ia.css((oc.isVertical?"height":"width"),(oc.isVertical?ia.height():ia.width())-(opts.actualTopSpace+opts.actualBottomSpace));ia.css((oc.isVertical?"margin-top":"margin-left"),opts.actualTopSpace);ia.css((oc.isVertical?"margin-bottom":"margin-right"),opts.actualBottomSpace);dialog.itemsContainer.find(".lwsc_spacer").css((oc.isVertical?"padding-top":"padding-left"),opts.actualDistanceBetweenItems)}else{}}if(opts.navigationArrows.show&&opts.navigationArrows.isFloating){dialog.container.find("."+(opts.navigationArrows.showContainer?"arrow_container":"arrow_btn")).each(function(){if(oc.isVertical)$(this).css({left:(ia.width()-$(this).outerWidth())/2});else $(this).css({top:(ia.height()-$(this).outerHeight())/2})})}var i=0;var pos_start=(oc.isVertical?dialog.itemsContainer.find(".lwsc_item").eq(0).position().top:dialog.itemsContainer.find(".lwsc_item").eq(0).position().left);dialog.itemsContainer.find(".lwsc_item").each(function(){if(i<dialog.scrollerItems.length){if(oc.isVertical){dialog.scrollerItems[i].data('item_pos',Math.floor($(this).position().top-pos_start));dialog.scrollerItems[i++].data('item_end',Math.floor($(this).position().top+$(this).outerHeight()-pos_start))}else{dialog.scrollerItems[i].data('item_pos',Math.floor($(this).position().left-pos_start));dialog.scrollerItems[i++].data('item_end',Math.floor($(this).position().left+$(this).outerWidth()-pos_start))}}});i=0;var max=oc.isVertical?(opts.play.loop?(ia.children().height()-dialog.itemsContainer.find(".lwsc_spacer").outerHeight())/2:ia.children().height()):(opts.play.loop?(ia.children().width()-dialog.itemsContainer.find(".lwsc_spacer").outerWidth())/2:ia.children().width());dialog.pages=new Array();dialog.pages[i]=0;while(dialog.pages[i]+(oc.isVertical?ia.height():ia.width())<max){var tmp1=dialog.pages[i]+(oc.isVertical?ia.height():ia.width()),tmp2=0;for(var j=0;j<dialog.scrollerItems.length;j++){if(dialog.scrollerItems[j].data('item_end')<=tmp1){if(j<dialog.scrollerItems.length-1)tmp2=dialog.scrollerItems[j+1].data('item_pos');else tmp2=-1}else if(dialog.pages[i]==dialog.scrollerItems[j].data('item_pos')){if(j<dialog.scrollerItems.length-1)tmp2=dialog.scrollerItems[j+1].data('item_pos');else tmp2=-1}}if(tmp2>-1)dialog.pages[++i]=tmp2;else i++}if((dialog.pages[dialog.pages.length-1]+(oc.isVertical?ia.height():ia.width()))>max)dialog.pages[dialog.pages.length-1]=max-(oc.isVertical?ia.height():ia.width());ia.css('display','inline-block')},showTooltip:function(item){if(opts.tooltips.isExternalTooltip){}else{if(typeof dialog.tooltip!="undefined"){if(dialog.tooltip.data("no")==item.data("no"))return;dialog.tooltip.clearQueue().hide().remove()}if(!item.attr("lwsc_tooltip")||item.attr("lwsc_tooltip")=="")return;var cnt=item.attr("lwsc_tooltip");if(cnt.substr(0,12)=="lwtt_content"){if(cnt.substr(13,7).toLowerCase()=="ajaxurl"){var url=cnt.substr(22).substr(0,cnt.length-24);setTimeout(function(){var dataLoader=$("<div/>");dataLoader.load(url,function(){item.attr("lwsc_tooltip",dataLoader.html());dialog.tooltip.data("no",-1);self.showTooltip(item)})},100);cnt="loading..."}else if(cnt.substr(13,11).toLowerCase()=="externalurl"){url=cnt.substr(26).substr(0,cnt.length-28);var supImgExt=[".jpg",".jpeg",".bmp",".gif",".png",".tiff",".tif"],isImg=false;for(var i=0;i<supImgExt.length;i++)isImg=isImg||(url.match(supImgExt[i]+"$")==supImgExt[i]);if(isImg){$("<img>").attr("src",url).load(function(){item.attr("lwsc_tooltip","<img src='"+url+"'/>");dialog.tooltip.data("no",-1);self.showTooltip(item)});cnt="loading..."}else{cnt="<iframe frameborder='0' src='"+url+"' style='border: none; width: 400px; height: 300px;'></iframe>";item.attr("lwsc_tooltip",cnt);dialog.tooltip.data("no",-1);self.showTooltip(item)}}else{alert("Likno Web Scroller Builder Error: Unrecognized Tooltip Data!")}}dialog.tooltip=$("<div></div>").append(cnt).css({"overflow":"auto"}).css(opts.tooltips.tooltipCss);if(opts.tooltips.borderImage.show&&(opts.tooltips.borderImage.topWidth>0||opts.tooltips.borderImage.rightWidth>0||opts.tooltips.borderImage.bottomWidth>0||opts.tooltips.borderImage.leftWidth>0)){var bi_html="<table cellspacing='0' cellpadding='0'>";if(opts.tooltips.borderImage.topWidth>0){bi_html+="<tr>";if(opts.tooltips.borderImage.leftWidth>0)bi_html+="<td class='lwsc_mts' width='"+opts.tooltips.borderImage.leftWidth+"' height='"+opts.tooltips.borderImage.topWidth+"' background='"+opts.tooltips.borderImage.borderImageSetName+"_topleft."+opts.tooltips.borderImage.borderImageSetExtension+"'>&nbsp;</td>";bi_html+="<td class='lwsc_mts' height='"+opts.tooltips.borderImage.topWidth+"' background='"+opts.tooltips.borderImage.borderImageSetName+"_top."+opts.tooltips.borderImage.borderImageSetExtension+"'>&nbsp;</td>";if(opts.tooltips.borderImage.rightWidth>0)bi_html+="<td class='lwsc_mts' width='"+opts.tooltips.borderImage.rightWidth+"' height='"+opts.tooltips.borderImage.topWidth+"' background='"+opts.tooltips.borderImage.borderImageSetName+"_topright."+opts.tooltips.borderImage.borderImageSetExtension+"'>&nbsp;</td>";bi_html+="</tr>"}bi_html+="<tr>";if(opts.tooltips.borderImage.leftWidth>0)bi_html+="<td class='lwsc_mts' width='"+opts.tooltips.borderImage.leftWidth+"' background='"+opts.tooltips.borderImage.borderImageSetName+"_left."+opts.tooltips.borderImage.borderImageSetExtension+"'>&nbsp;</td>";bi_html+="<td class='tooltip_border_content'></td>";if(opts.tooltips.borderImage.rightWidth>0)bi_html+="<td class='lwsc_mts' width='"+opts.tooltips.borderImage.rightWidth+"' background='"+opts.tooltips.borderImage.borderImageSetName+"_right."+opts.tooltips.borderImage.borderImageSetExtension+"'>&nbsp;</td>";bi_html+="</tr>";if(opts.tooltips.borderImage.topWidth>0){bi_html+="<tr>";if(opts.tooltips.borderImage.leftWidth>0)bi_html+="<td class='lwsc_mts' width='"+opts.tooltips.borderImage.leftWidth+"' height='"+opts.tooltips.borderImage.bottomWidth+"' background='"+opts.tooltips.borderImage.borderImageSetName+"_bottomleft."+opts.tooltips.borderImage.borderImageSetExtension+"'>&nbsp;</td>";bi_html+="<td class='lwsc_mts' height='"+opts.tooltips.borderImage.bottomWidth+"' background='"+opts.tooltips.borderImage.borderImageSetName+"_bottom."+opts.tooltips.borderImage.borderImageSetExtension+"'>&nbsp;</td>";if(opts.tooltips.borderImage.rightWidth>0)bi_html+="<td class='lwsc_mts' width='"+opts.tooltips.borderImage.rightWidth+"' height='"+opts.tooltips.borderImage.bottomWidth+"' background='"+opts.tooltips.borderImage.borderImageSetName+"_bottomright."+opts.tooltips.borderImage.borderImageSetExtension+"'>&nbsp;</td>";bi_html+="</tr>"}bi_html+="</table>";dialog.tooltip.borderImage=$(bi_html);dialog.tooltip.borderImage.content=dialog.tooltip.borderImage.find(".tooltip_border_content");dialog.tooltip.borderImage.find(".lwsc_mts").css({"line-height":"0px","font-size":"0px"})}else opts.tooltips.borderImage.show=false;if(opts.tooltips.borderImage.ignoreCssBorder)dialog.tooltip.css({"border":"none","border-radius":"0px"});if(opts.tooltips.borderImage.show){dialog.tooltip.borderImage.content.append(dialog.tooltip);dialog.tooltip=dialog.tooltip.borderImage}dialog.tooltip.data("no",item.data("no"));dialog.tooltip.css({position:"absolute",left:0,top:0});dialog.tooltip.appendTo("body");if(dialog.tooltip.width()>opts.tooltips.maxWidth)dialog.tooltip.width(opts.tooltips.maxWidth);if(dialog.tooltip.width()<opts.tooltips.minWidth)dialog.tooltip.width(opts.tooltips.minWidth);if(dialog.tooltip.height()>opts.tooltips.maxHeight)dialog.tooltip.height(opts.tooltips.maxHeight);if(dialog.tooltip.height()<opts.tooltips.minHeight)dialog.tooltip.height(opts.tooltips.minHeight);var t=item.offset().top;var l=item.offset().left;if(opts.tooltips.showAt==1){if(opts.container.isVertical){t+=(item.outerHeight()-dialog.tooltip.outerHeight())/2;l+=item.outerWidth()}else{t+=item.outerHeight();l+=(item.outerWidth()-dialog.tooltip.outerWidth())/2}}else if(opts.tooltips.showAt==0){if(opts.container.isVertical){t+=(item.outerHeight()-dialog.tooltip.outerHeight())/2;l-=dialog.tooltip.outerWidth()}else{t-=dialog.tooltip.outerHeight();l+=(item.outerWidth()-dialog.tooltip.outerWidth())/2}}if(opts.container.isVertical){if(opts.tooltips.showAt==0){l-=opts.tooltips.distance}else{l+=opts.tooltips.distance}t+=opts.tooltips.offset}else{if(opts.tooltips.showAt==0){t-=opts.tooltips.distance}else{t+=opts.tooltips.distance}l+=opts.tooltips.offset}if(opts.container.isVertical){if(t<dialog.container.offset().top)t=dialog.container.offset().top;if(t>dialog.container.offset().top+dialog.container.outerHeight())t=dialog.container.offset().top+dialog.container.outerHeight()}else{if(l<dialog.container.offset().left)l=dialog.container.offset().left;if(l+dialog.tooltip.width()>dialog.container.offset().left+dialog.container.outerWidth())l=dialog.container.offset().left+dialog.container.outerWidth()-dialog.tooltip.width()}dialog.tooltip.css({"left":l,"top":t,display:"none"});dialog.tooltip.mouseout(function(){dialog.tooltipRemoval=setTimeout(function(){if(typeof dialog.tooltip!="undefined")dialog.tooltip.clearQueue().hide().remove()},100)});dialog.tooltip.mouseover(function(){clearTimeout(dialog.tooltipRemoval)});if(opts.tooltips.effectStyle==0)dialog.tooltip.delay(opts.tooltips.effectDelay).slideDown(0);else if(opts.tooltips.effectStyle==1)dialog.tooltip.delay(opts.tooltips.effectDelay).fadeIn(opts.tooltips.effectDuration);else if(opts.tooltips.effectStyle==2)dialog.tooltip.delay(opts.tooltips.effectDelay).slideDown(opts.tooltips.effectDuration)}},bindNavigationImages:function(){var all=$("img[src*='likno_scroller']").filter("[src$='gif'],[src*='png'],[src*='jpg']");if(all.filter("[src*='likno_scroller_"+opts.scrollerName+"']").length>0){all=all.filter("[src*='likno_scroller_"+opts.scrollerName+"']")}else if(all.filter("[src*='likno_scroller_"+opts.scrollerNameNormal+"']").length>0){all=all.filter("[src*='likno_scroller_"+opts.scrollerNameNormal+"']")}else{all=all.filter("[src*='likno_scroller_generic']")}if(all.length>0){var nb=dialog.externalNavigationBar={};opts.externalNavigationBar={images:{}};var onbi=opts.externalNavigationBar.images;$.each([["previous","previous","startBack","stopBack"],["next","next","startForward","stopForward"],["first","first","gotoFirst",""],["last","last","gotoLast",""],["play","play","Play",""],["play","pause","Pause",""]],function(i,el){var b=all.filter("[src$='_"+el[0]+".gif'],[src$='_"+el[0]+".png'],[src$='_"+el[0]+".jpg']");if(b.length>0){var base=b.attr("src");var bi=base.replace("_"+el[0]+".","_"+el[1]+".");var bio=base.replace("_"+el[0]+".","_"+el[1]+"_over.");if(el[0]!="play")b.mouseover(function(){$(this).attr("src",bio)}).mouseout(function(){$(this).attr("src",bi)}).mousedown(function(e){eval("self."+el[2]+"();")}).mouseup(function(e){if(el[3]!="")eval("self."+el[3]+"();")}).mouseout(function(e){if(el[3]!="")eval("self."+el[3]+"();")});b.addClass(opts.classes.navigationClass);b.css('cursor','pointer');lwac_imageCache[lwac_imageCacheCounter]=new Image(1,1);lwac_imageCache[lwac_imageCacheCounter++].src=bi;lwac_imageCache[lwac_imageCacheCounter]=new Image(1,1);lwac_imageCache[lwac_imageCacheCounter++].src=bio;eval("onbi.but"+el[2]+" = bi;");eval("onbi.but"+el[2]+"Over = bio;")}eval("nb."+el[1]+" = b;")});if(nb.play.length>0){nb.play.showOver=function(){if(opts.play.isRunning)$(this).attr("src",onbi.butPlayOver);else $(this).attr("src",onbi.butPauseOver)};nb.play.showNormal=function(){if(opts.play.isRunning)$(this).attr("src",onbi.butPlay);else $(this).attr("src",onbi.butPause)};nb.play.mouseover(function(){nb.play.showOver()}).mouseout(function(){nb.play.showNormal()}).click(function(e){self.autoPlayToggle()});nb.play.showNormal()}}},getDelay:function(x){if(typeof x=="number")return x;else if(typeof x=="string")return parseInt(x);else if(typeof x=="object"){if(typeof x.duration=="number")return x.duration;else if(typeof x.duration=="string")return parseInt(x.duration);else return 0}else return 0}});if(typeof options=="number")options={currentItem:options};opts=$.extend(true,{},$.liknoScroller.defaults,options);if(typeof options=="object")if(typeof options.transition=="object")if(typeof options.transition.transWhat=="object")opts.transition.transWhat=options.transition.transWhat;var isEmpty=true;for(var x in opts.transition.transWhat){isEmpty=false}if(isEmpty)opts.transition.transWhat={height:"show"};opts.items.normalCss=$.extend(true,{},opts.items.commonCss,opts.items.normalCss);opts.items.normalOverCss=$.extend(true,{},opts.items.commonCss,opts.items.normalOverCss);opts.items.selectedCss=$.extend(true,{},opts.items.commonCss,opts.items.selectedCss);opts.items.selectedOverCss=$.extend(true,{},opts.items.commonCss,opts.items.selectedOverCss);opts.items.separatorCss=$.extend(true,{},opts.items.commonCss,opts.items.separatorCss);var nb=opts.navigationBar;if(nb.showPages==true&&nb.showPageType==1&&nb.showBulletsOnly==true){nb.showFirst=nb.showPrev=nb.showPlayPause=nb.showNext=nb.showLast=nb.showLabel=false;nb.cssClasses="."+opts.scrollerNameNormal+".navigationBarBulletsNormal, ."+opts.scrollerNameNormal+".navigationBarBulletsOver, ."+opts.scrollerNameNormal+".navigationBarBulletsSelected { cursor: pointer; } ."+opts.scrollerNameNormal+".navigationBarArea { cursor: default; } ."+opts.scrollerNameNormal+".navigationBarPageSpacer { width: 4px; }"}self.preloadScrollerImages();self.preloadSecondaryImages();var oc=opts.classes,occ=oc.contentClass;oc.itemClass=occ+"_item";oc.separatorClass=occ+"_separator";oc.topAreaClass=occ+"_top";oc.rightAreaClass=occ+"_right";oc.bottomAreaClass=occ+"_bottom";oc.leftAreaClass=occ+"_left";zIndex=opts.zIndex;dialog.scrollerItems=[];if(opts.showTopArea)dialog.topSide=$("<div>"+opts.topAreaHTML+"</div>");if(opts.showBottomArea)dialog.bottomSide=$("<div>"+opts.bottomAreaHTML+"</div>");if(opts.showLeftArea)dialog.leftSide=$("<div>"+opts.leftAreaHTML+"</div>");if(opts.showRightArea)dialog.rightSide=$("<div>"+opts.rightAreaHTML+"</div>");if(typeof data=='string'){if(data=="")data=$("body");else data=$(data)}if(typeof data=='object'&&typeof(data.jquery)=="string"&&data.length){if(data.is("DIV")||data.is("BODY")){if(data.eq(0).hasClass(opts.classes.itemClass)){dialog.scrollerItems=lQuery.makeArray(data)}else{dialog.scrollerItems=lQuery.makeArray($(data).find("."+opts.classes.itemClass));dialog.topSide=lQuery.makeArray($(data).find("."+opts.classes.topAreaClass));dialog.rightSide=lQuery.makeArray($(data).find("."+opts.classes.rightAreaClass));dialog.bottomSide=lQuery.makeArray($(data).find("."+opts.classes.bottomAreaClass));dialog.leftSide=lQuery.makeArray($(data).find("."+opts.classes.leftAreaClass));dialog.defaultPositioning=dialog.scrollerItems[0]}}else if($(data).is("UL")){var all=$(data).children("LI");all=lQuery.makeArray(all);var si=[];for(var i=0;i<all.length;i++){if($.trim(all[i].innerHTML.toLowerCase()).substr(0,9)=="[toparea]"){dialog.topSide=$("<div></div>").html(all[i].innerHTML);dialog.topSide.html($.trim(dialog.topSide.html()).replace(/\[[t][o][p][a][r][e][a]\]/gi,""))}else if($.trim(all[i].innerHTML.toLowerCase()).substr(0,11)=="[rightarea]"){dialog.rightSide=$("<div></div>").html(all[i].innerHTML);dialog.rightSide.html($.trim(dialog.rightSide.html()).replace(/\[[r][i][g][h][t][a][r][e][a]\]/gi,""))}else if($.trim(all[i].innerHTML.toLowerCase()).substr(0,10)=="[leftarea]"){dialog.leftSide=$("<div></div>").html(all[i].innerHTML);dialog.leftSide.html($.trim(dialog.leftSide.html()).replace(/\[[l][e][f][t][a][r][e][a]\]/gi,""))}else if($.trim(all[i].innerHTML.toLowerCase()).substr(0,12)=="[bottomarea]"){dialog.bottomSide=$("<div></div>").html(all[i].innerHTML);dialog.bottomSide.html($.trim(dialog.bottomSide.html()).replace(/\[[b][o][t][t][o][m][a][r][e][a]\]/gi,""))}else if($.trim(all[i].innerHTML.toLowerCase()).substr(0,11)=="[separator]"){si[si.length]=$("<div class='separator'></div>").html($.trim(all[i].innerHTML).replace(/\[[s][e][p][a][r][a][t][o][r]\]/gi,""));$(si[si.length-1]).insertBefore($(all[i]))}else{si[si.length]=$("<div></div>").html(all[i].innerHTML);if($(all[i]).attr("lwsc_tooltip")){si[si.length-1].attr("lwsc_tooltip",$(all[i]).attr("lwsc_tooltip"))}if($(all[i]).attr("onclick")){si[si.length-1].attr("onclick",$(all[i]).attr("onclick"))}if($(all[i]).attr("onmouseover")){si[si.length-1].attr("onmouseover",$(all[i]).attr("onmouseover"))}if($(all[i]).attr("lwsc_modal_type")){si[si.length-1].attr("lwsc_modal_type",$(all[i]).attr("lwsc_modal_type"))}if($(all[i]).attr("lwsc_modal")){si[si.length-1].attr("lwsc_modal",$(all[i]).attr("lwsc_modal"))}if($(all[i]).attr("open_awm")){si[si.length-1].attr("open_awm",$(all[i]).attr("open_awm"))}if($(all[i]).attr("lwsc_top")){si[si.length-1].attr("lwsc_top",$(all[i]).attr("lwsc_top"))}if($(all[i]).attr("lwsc_bottom")){si[si.length-1].attr("lwsc_bottom",$(all[i]).attr("lwsc_bottom"))}if($(all[i]).attr("lwsc_right")){si[si.length-1].attr("lwsc_right",$(all[i]).attr("lwsc_right"))}if($(all[i]).attr("lwsc_left")){si[si.length-1].attr("lwsc_left",$(all[i]).attr("lwsc_left"))}$(si[si.length-1]).insertBefore($(all[i]))}}for(var i=0;i<all.length;i++)$(all[i]).remove();dialog.defaultPositioning=$(data);dialog.scrollerItems=$(si)}else{alert('Likno Web Scroller Builder Error: Unsupported tag type <'+data[0].tagName+'>.');return null}for(var i=0;i<dialog.scrollerItems.length;i++){dialog.scrollerItems[i]=$(dialog.scrollerItems[i]);if(typeof(dialog.scrollerItems[i].attr('externalUrl'))!="undefined"||typeof(dialog.scrollerItems[i].attr('ajaxUrl'))!="undefined"){dialog.scrollerItems[i].data("isLoaded",false);if(dialog.scrollerItems[i].attr('externalUrl')!="undefined")dialog.scrollerItems[i].data("isExternal",true)}else{dialog.scrollerItems[i].data("isLoaded",true);if(dialog.scrollerItems[i].children("img").length==dialog.scrollerItems[i].children("*").length&&dialog.scrollerItems[i].children("*").length>0){dialog.scrollerItems[i].data("isLoaded",false);dialog.scrollerItems[i].data("isImage",true);dialog.scrollerItems[i].children("img").css('vertical-align','middle')}}}}else{alert('Likno Web Scroller Builder Error: You have selected the "UL/LI structure" population method for your project, but no such UL/LI structure is found in page.');return null}if(dialog.scrollerItems==0){alert('Likno Web Scroller Builder Error: You have selected the "DIV elements" population method for your project, but no DIV elements with the proper "Class" value are found in page for bodies.');return null}self.createAndStart();return self}if($.browser.msie)$("body").css("background-color",$("body").css("background-color"))})(lQuery);var lwac_imageCache=[];var lwac_imageCacheCounter=0;function lwac_get_background_url(x){if(typeof(x)!="string"||!x||x=='')return'';if(x.indexOf('url(')>-1){x=x.replace(/\'/gi,"").replace(/\"/gi,"").replace(/url/gi,"").replace(/\)/gi,"").replace(/\(/gi,"")}return x}function lwac_preload(_theSrc){lwac_imageCache[lwac_imageCacheCounter]=new Image(1,1);lwac_imageCache[lwac_imageCacheCounter++].src=_theSrc}function lwac_preloadImages(opts){if(typeof opts==="object"){if(typeof opts.ajaxLoadImage==="string")if(opts.ajaxLoadImage!=''){lwac_preload(opts.ajaxLoadImage)}if(typeof opts.items==="object"&&typeof opts.items.normalCss==="object"){if(typeof opts.items.normalCss.backgroundImage==="string")if(opts.items.normalCss.backgroundImage!=''){lwac_preload(lwac_get_background_url(opts.items.normalCss.backgroundImage))}}if(typeof opts.container==="object"&&typeof opts.container.textCss==="object"){if(typeof opts.container.textCss.backgroundImage==="string")if(opts.container.textCss.backgroundImage!=''){lwac_preload(lwac_get_background_url(opts.container.textCss.backgroundImage))}}}}function lwsc_checkVarUrl(p){var p1=p.replace(/-/g,"_"),loadme=false,loaditem=0;if(eval('typeof ('+p1+'_selected_item)')!="undefined"){loadme=true;loaditem=eval(p1+'_selected_item');if(typeof loaditem=="number")loaditem--;else loaditem="'"+loaditem+"'"}var tmp=document.location.href;if(tmp.indexOf("#")>-1){tmp=tmp.substr(tmp.indexOf("#")+1);var t_arr=tmp.split("#");for(var i=0;i<t_arr.length;i++){if(t_arr[i].indexOf(p1+'_')==0||t_arr[i].indexOf(p+'_')==0){var t1;if(t_arr[i].indexOf(p1+'_')==0)t1=p1+'_';else if(t_arr[i].indexOf(p+'_')==0)t1=p+'_';t1=t_arr[i].substr(t1.length);if(t1.length>0){loadme=true;if(!isNaN(Number(t1)))loaditem=t1-1;else{loaditem="'"+t1+"'"}}}}}if(loadme)eval("function "+p1+"_vu_loader() { if (typeof("+p1+".initializing)=='undefined' || "+p1+".initializing != 'done') setTimeout("+p1+"_vu_loader,200); else { "+p1+".setSelectedItem("+loaditem+"); "+p1+".setData(); } }; "+p1+"_vu_loader();")}if(typeof nRTC=="undefined")nRTC=function(str){str=lQuery.trim(str);var def=str.split(';');var retArr={};for(i=0;i<def.length;i++){var side=def[i].split(':'),name='',val='';if(def[i]){side[0]=side[0].toLowerCase();if(side.length>2){for(k=2;k<side.length;k++){side[1]+=":"+side[k]}}for(j=0;j<side.length;j++){if(j==0){str=side[j].split('-');var outstr=str[0];for(k=1;k<str.length;k++){outstr=outstr+str[k].charAt(0).toUpperCase()+str[k].substring(1)}name=lQuery.trim(outstr)}else{if(j==1){val=lQuery.trim(side[j])}}}retArr[name]=val}}return retArr};
/*116.3*/